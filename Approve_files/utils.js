(function(){function initModules(){for(var module in fnb.hyperion.utils){if(fnb.hyperion.utils[module].autoInit){fnb.hyperion.utils[module].init()}}}function utils(){}utils.prototype={autoInit:true,init:function(){console.log("Utils init");initModules()},destroy:function(){fnb.hyperion.utils={}}};fnb.namespace("utils",utils,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:'[data-role="actionMenuBttLabelWrapper"]',handler:'fnb.hyperion.controller.raiseEvent("showActionMenu");',preventDefault:true},{type:"frame",listener:document,events:"click",selector:'[data-role="actionMenuGridCol"] a',handler:"fnb.hyperion.utils.actionMenu.navigateToUrl(event)",preventDefault:true}];fnb.hyperion.actions.addEvents(events)}function actionMenu(){}actionMenu.prototype={autoInit:true,active:false,hasMenu:false,buttonVisible:false,actionMenu:false,init:function(){console.log("Utils Action Menu init");bindEvents()},show:function(){if(!this.active){this.active=true;fnb.hyperion.controller.actioMenuButtonLabelWrapper.parent().addClass("actionMenuBttLabelWrapperExpanded");fnb.hyperion.controller.getScrollPosition(document.body);var pageWrapper=fnb.hyperion.controller.pageContentContainerElement.find(".pageWrapper");if(pageWrapper.length()>0){pageWrapper.hide()}fnb.hyperion.controller.scrollTo(0,0);this.actionMenu.show();var actionMenuColumns=this.actionMenu.find(".actionMenuCol");var urlWrapper=this.actionMenu.find(".actionMenuUrlWrapper");if(urlWrapper.length()>0){urlWrapper.removeClass("visibleContent")}if(actionMenuColumns.length()>0){actionMenuColumns.removeClass("displayNone")}}else{fnb.hyperion.controller.raiseEvent("hideActionMenu");return false}},hide:function(){if(this.active){this.active=false;fnb.hyperion.controller.actioMenuButtonLabelWrapper.parent().removeClass("actionMenuBttLabelWrapperExpanded");this.actionMenu.hide();var pageWrapper=fnb.hyperion.controller.pageContentContainerElement.find(".pageWrapper");if(pageWrapper.length()>0){pageWrapper.show()}fnb.hyperion.controller.setScrollPosition(document.body)}},showButton:function(){if(this.hasActionMenu()&&!this.buttonVisible){this.buttonVisible=true;fnb.hyperion.controller.actioMenuButtonLabelWrapper.removeClass("HoffScreen")}},hideButton:function(){if(this.buttonVisible){this.buttonVisible=false;fnb.hyperion.controller.actioMenuButtonLabelWrapper.addClass("HoffScreen")}},navigateToUrl:function(event){var url=event.target.attr("href");if(url&&url!="#"){fnb.hyperion.controller.raiseEvent("loadPage",{url:url})}},hasActionMenu:function(){this.actionMenu=fnb.hyperion.$("#actionMenu");if(this.actionMenu.length()>0){return true}return false},destroy:function(){fnb.hyperion.utils.actionMenu={}}};fnb.namespace("utils.actionMenu",actionMenu,true)})();(function(){function content(){}content.prototype={autoInit:false,init:function(){console.log("Utils fragment init")},set:function(loadObj,css){if(loadObj.target.length()>0){var htmlContainer=document.createElement("div");htmlContainer.innerHTML=css.html;var fragment=document.createDocumentFragment();fragment.appendChild(htmlContainer);var fragmentTarget=fragment.childNodes[0];fnb.hyperion.load.styles(fragmentTarget,css.styles);var fragmentTargetChildren=[].slice.call(fragmentTarget.children);loadObj.target.html("");for(var i=0;i<fragmentTargetChildren.length;i++){loadObj.target.add(fragmentTargetChildren[i])}}},destroy:function(){fnb.hyperion.utils.ajax.content={}}};fnb.namespace("utils.ajax.content",content,true)})();(function(){function css(){}css.prototype={headCss:[],cssCounter:0,autoInit:false,init:function(){console.log("Ajax getcss init")},getCss:function(html){var links=new Array();var targetCss=html.match(/(<link\b.+href=")(?!http)([^"]*)(".*>)/gi)!=null?html.match(/(<link\b.+href=")(?!http)([^"]*)(".*>)/gi):[];html=html.replace(/(<link\b.+href=")(?!http)([^"]*)(".*>)/gi,"");for(var i=0;i<targetCss.length;i++){var url=targetCss[i].match(/href="[\s\S]*?"/g);var rawUrl=url[0].replace('href="',"").replace('"',"");links.push(rawUrl)}return{css:links,cleanHtml:html}},getStyles:function(html){var styles=new Array();while(html.indexOf("<style")>-1||html.indexOf("</style")>-1){var startStyleTag=html.indexOf("<style");var endStyleTag=html.indexOf(">",startStyleTag);var closedStartStyleTag=html.indexOf("</style",startStyleTag);var closedEndStyleTag=html.indexOf(">",closedStartStyleTag);styles.push(html.substring(endStyleTag+1,closedStartStyleTag));html=html.substring(0,startStyleTag)+html.substring(closedEndStyleTag+1)}return{styles:styles,cleanHtml:html}},setCss:function(css,handler){function callback(){return handler()}if(css.length===0){callback();return}var loadedCss=0;for(var i=0;i<css.length;i++){var cssHeadCount=fnb.hyperion.controller.head.find("=link").length();var doCssHeadCount=false;this.cssCounter++;var importCss=document.createElement("link");importCss.type="text/css";importCss.rel="stylesheet";importCss.className="pageCSS";var newId="pageCSS"+this.cssCounter;importCss.setAttribute("id",newId);this.headCss.push(newId);var url=css[i].match(/href="[\s\S]*?"/g);if(importCss.readyState){importCss.onreadystatechange=function(){if(importCss.readyState=="loaded"||importCss.readyState=="complete"){importCss.onreadystatechange=null;loadedCss++;if(loadedCss==css.length){callback()}}}}else{doCssHeadCount=true}if(url){var rawUrl=url[0].replace('href="',"").replace('"',"");importCss.href=rawUrl}fnb.hyperion.controller.head.add(importCss);if(doCssHeadCount){var cssHeadCountInterval=setInterval(function(){if(document.styleSheets.length>cssHeadCount){loadedCss++;if(loadedCss==css.length){callback()}clearInterval(cssHeadCountInterval)}},10)}}},prependCss:function(element,css){for(var i=0;i<css.length;i++){var importCss=document.createElement("link");importCss.type="text/css";importCss.rel="stylesheet";var url=css[i].match(/href="[\s\S]*?"/g);if(url){var rawUrl=url[0].replace('href="',"").replace('"',"");importCss.href=rawUrl}element.insertBefore(importCss,(element.hasChildNodes())?element.childNodes[0]:null)}},prependStyles:function(element,styles){for(var i=0;i<styles.length;i++){var style=document.createElement("style");style.type="text/css";if(style.styleSheet){style.styleSheet.cssText=styles[i]}else{style.appendChild(document.createTextNode(styles[i]))}element.insertBefore(style,(element.hasChildNodes())?element.childNodes[0]:null)}},clear:function(){if(this.cssCounter>0){this.headCss.forEach(function(id){var currentLink=fnb.hyperion.$("#"+id).elem;fnb.hyperion.controller.head.remove(currentLink)});this.headCss=[];this.cssCounter=0}},destroy:function(){fnb.hyperion.utils.ajax.css={}}};fnb.namespace("utils.ajax.css",css,true)})();(function(){function filter(){}filter.prototype={autoInit:false,init:function(){console.log("Ajax filter init")},get:function(target,data,filter){var filterContent=(filter)?filter:target;var pageTitle="";var pageCategory="";var filteredContent="";if(filterContent){var htmlInDiv=document.createElement("div");htmlInDiv.innerHTML=data;var fragment=document.createDocumentFragment();fragment.appendChild(htmlInDiv);var title=fragment.querySelector("title");pageTitle=(title)?title.innerHTML:"";var category=fragment.querySelector("[data-category]");var pageCategory=(category)?fnb.hyperion.$(category).attr("data-category"):"";filteredContent=fragment.querySelector(filterContent)?fragment.querySelector(filterContent).innerHTML:data}else{filteredContent=data}return{content:filteredContent,pageTitle:pageTitle,pageCategory:pageCategory}},destroy:function(){fnb.hyperion.utils.ajax.filter={}}};fnb.namespace("utils.ajax.filter",filter,true)})();(function(){function parameters(){}parameters.prototype={autoInit:false,init:function(){console.log("Utils parameters init")},get:function(loadObj){var dataAction="";var dataTargetArray=(loadObj.dataTarget==""||loadObj.dataTarget==undefined)?[]:loadObj.dataTarget.split(",");var dataTarget="";if(dataTargetArray.length>0){dataTargetArray.each(function(element){dataTarget=fnb.hyperion.$(element);if(dataTarget.length()>0){var dataTargetParams=fnb.hyperion.controller.serialize(dataTarget);loadObj.params=(loadObj.params)?loadObj.params+"&"+dataTargetParams:dataTargetParams;if(dataTarget.attr("data-action")){action=dataTarget.attr("data-action");dataAction=action}if(dataTarget.attr("data-nav")){loadObj.params=loadObj.params+"&nav="+dataTarget.attr("data-nav")}if(dataTarget.attr("data-method")){loadObj.type=dataTarget.attr("data-method")}}})}var dataParams="",paramObject="";if(loadObj.dataParams){paramObject=loadObj.dataParams;paramObject["dataParams"]="true";dataParams=fnb.hyperion.controller.serialize(paramObject);loadObj.params=(loadObj.params)?loadObj.params+"&"+dataParams:dataParams}if(dataAction!=""&&dataTarget.attr("data-nav")!=""){loadObj.url=dataAction}return loadObj},getUrlParameters:function(loadObj){if(loadObj.target.length()>0){if(typeof loadObj.url!="undefined"){if(loadObj.url.indexOf("?")>-1){loadObj.url+="&targetDiv="+loadObj.target.attr("id")}else{loadObj.url+="?targetDiv="+loadObj.target.attr("id")}}else{loadObj.url=loadObj.params["alternateUrl"];loadObj.url+="?targetDiv="+loadObj.target.attr("id")}}return loadObj},destroy:function(){fnb.hyperion.utils.ajax.parameters={}}};fnb.namespace("utils.ajax.parameters",parameters,true)})();(function(){function scripts(){}scripts.prototype={headScripts:[],scriptsCounter:0,autoInit:false,init:function(){console.log("Ajax getScripts init")},getScripts:function(html){var targetScripts=html.match(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi)!=null?html.match(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi):[];html=html.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");return{scripts:targetScripts,cleanHtml:html}},getScriptsContents:function(html,container){var scripts=new Array();var importScripts=new Array();while(html.indexOf("<script")>-1||html.indexOf("<\/script")>-1){var startScriptTag=html.indexOf("<script");var endScriptTag=html.indexOf(">",startScriptTag);var closedStartScriptTag=html.indexOf("<\/script",startScriptTag);var closedEndScriptTag=html.indexOf(">",closedStartScriptTag);var isImport=html.substring(startScriptTag,closedEndScriptTag+1);var url=isImport.match(/src="[\s\S]*?"/g);if(url){var rawUrl=url[0].replace('src="',"").replace('"',"");importScripts.push(rawUrl)}else{scripts.push(html.substring(endScriptTag+1,closedStartScriptTag))}html=html.substring(0,startScriptTag)+html.substring(closedEndScriptTag+1)}return{scripts:scripts,cleanHtml:html,importScripts:importScripts}},setScripts:function(scripts,handler){function callback(){return handler()}if(scripts.length===0){callback();return}var loadedScripts=0;for(var i=0;i<scripts.length;i++){this.scriptsCounter++;var importScript=document.createElement("script");importScript.type="text/javascript";importScript.className="pageScript";var newId="pageScript"+this.scriptsCounter;importScript.setAttribute("id",newId);this.headScripts.push(newId);var url=scripts[i].match(/src="[\s\S]*?"/g);var code=undefined;if(url){var rawUrl=url[0].replace('src="',"").replace('"',"");importScript.src=rawUrl}else{code=scripts[i].replace(/<script[^>]*?[^>]*>([\s\S]*?)/gi,"").replace(/<\/script>/gi,"")}fnb.hyperion.controller.head.add(importScript);if(code){importScript.text=code;loadedScripts++;if(loadedScripts==scripts.length){callback()}}if(importScript.readyState){importScript.onreadystatechange=function(){if(importScript.readyState=="loaded"||importScript.readyState=="complete"){importScript.onreadystatechange=null;loadedScripts++;if(loadedScripts==scripts.length){callback()}}}}else{importScript.onload=function(){loadedScripts++;if(loadedScripts==scripts.length){callback()}}}}},clear:function(){if(this.scriptsCounter>0){this.headScripts.forEach(function(id){var currentScript=fnb.hyperion.$("#"+id).elem;fnb.hyperion.controller.head.remove(currentScript)});this.headScripts=[];this.scriptsCounter=0}},prependJs:function(element,js){for(var i=0;i<js.length;i++){element.insertBefore(js[i],(element.hasChildNodes())?element.childNodes[0]:null)}},evalScripts:function(scripts){for(var i=0;i<scripts.length;i++){try{eval(scripts[i])}catch(e){console.log("Error: utils.ajax.scripts: "+e)}}},evalScript:function(script){if(typeof(eval(script))==="function"){}else{setTimeout(function(){fnb.hyperion.utils.ajax.scripts.evalScript(script)}),50}},destroy:function(){fnb.hyperion.utils.ajax.scripts={}}};fnb.namespace("utils.ajax.scripts",scripts,true)})();(function(){function gaBridge(){}gaBridge.prototype={autoInit:true,active:true,init:function(){console.log("Utils gaBridge init")},push:function(eventName,eventParams){var frame=document.getElementById("analyticsFame");eventParams.event=eventName;frame.contentWindow.postMessage(eventParams,"*")},destroy:function(){fnb.hyperion.utils.gaBridge={}}};fnb.namespace("utils.gaBridge",gaBridge,true)})();(function(){function bindEvents(listener){var events=[{type:"frame",listener:document,events:"click",selector:".printButton",handler:"fnb.hyperion.utils.basePrint.setPrintCss(event);"}];fnb.hyperion.controller.attachActionEvents(events)}function basePrint(){}basePrint.prototype={autoInit:true,init:function(){console.log("basePrint object init");bindEvents()},setPrintCss:function(event){event.preventDefault();console.log("setPrint");var pageWrapper=fnb.hyperion.$(".pageWrapper");var printold=fnb.hyperion.$("#printold");var printportrait=fnb.hyperion.$("#printportrait");var printlandscape=fnb.hyperion.$("#printlandscape");if(pageWrapper.length()>0){var printChoice=pageWrapper.attr("data-print");console.log(printChoice);if(printChoice=="portrait"){printportrait.attr("disabled","");printlandscape.attr("disabled",true);printold.attr("disabled",true)}else{if(printChoice=="landscape"){printportrait.attr("disabled",true);printlandscape.attr("disabled","");printold.attr("disabled",true)}else{printportrait.attr("disabled",true);printlandscape.attr("disabled",true);printold.attr("disabled","")}}}else{printportrait.attr("disabled",true);printlandscape.attr("disabled",true);printold.attr("disabled","")}setTimeout("window.print()",500)},destroy:function(){fnb.hyperion.utils.print={}}};fnb.namespace("utils.basePrint",basePrint,true)})();var charts=(function(){return{init:function(target,obj,type,isLegend){var dataArray=new charts.buildArray(obj,type);switch(type){case"line":charts.buildLine(target,dataArray,isLegend);break;case"donut":charts.buildDonut(target,dataArray,isLegend);break;case"tree":charts.buildTree(target,dataArray,isLegend);break;case"bar":charts.buildBar(target,dataArray,isLegend);break}},formatChartValues:function(n,currency,type){var out=n;var v=parseFloat(n);if(type=="CURRENCY"){out=currency+" "+v.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}else{if(type=="NUMBER"){out=v.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}else{if(type=="PRECENT"){out=v.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")+" %"}}}return out},buildArray:function(obj,type,isLegend){var objArrayMain=[];var objArrayData=[];var objArrayAxis=[];objArrayMain.push(obj.heading,obj.subHeading,obj.currencySymbol,obj.total,obj.valueMask);objArrayAxis.push(obj.xAxisValues);if(type=="line"){for(i=0;i<obj.dataSeries.length;i++){objArrayData.push({name:obj.dataSeries[i].name,data:obj.dataSeries[i].data})}}else{if(type=="donut"){for(i=0;i<obj.data.length;i++){objArrayData.push([obj.data[i].name,obj.data[i].percent,obj.data[i].value,obj.data[i].url])}}else{if(type=="tree"){obj.data;for(i=0;i<obj.data.length;i++){objArrayData.push({name:obj.data[i].name,value:obj.data[i].value,colorValue:obj.data[i].colorValue,placeHolder:obj.data[i].placeholder,arrow:obj.data[i].arrow,percentChange:obj.data[i].percentChange,mValue:obj.data[i].mValue,target:obj.data[i].target,url:obj.data[i].url})}}else{if(type=="bar"){obj.data;for(i=0;i<obj.dataSeries.length;i++){objArrayData.push({name:obj.dataSeries[i].name,data:obj.dataSeries[i].data})}}}}}return[objArrayMain,objArrayData,objArrayAxis]},buildLine:function(target,obj,isLegend){var lineChart=new Highcharts.chart(target,{chart:{type:"line"},title:{text:obj[0][0],align:"left"},subtitle:{text:obj[0][1],align:"left"},xAxis:{categories:obj[2][0]},yAxis:{title:{text:obj[0][2]}},legend:{enabled:isLegend},plotOptions:{line:{dataLabels:{enabled:false},enableMouseTracking:true}},series:obj[1]})},buildDonut:function(target,obj,isLegend){var donutChart=new Highcharts.chart(target,{chart:{plotBackgroundColor:null,plotBorderWidth:0,plotShadow:false,spacingRight:0},title:{text:obj[0][0]+"<br><b>"+charts.formatChartValues(obj[0][3],obj[0][2],obj[0][4])+"</b>",align:"center",verticalAlign:"middle",fontSize:12,y:-10},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{dataLabels:{enabled:false},startAngle:0,endAngle:0,center:["50%","50%"]}},series:[{type:"pie",name:obj[0][1],innerSize:"90%",data:obj[1]}]});if(isLegend){var legendHtml="";for(i=0;i<obj[1].length;i++){var setColor=$("#"+target+" .highcharts-color-"+i).attr("fill");legendHtml=legendHtml+"<div class='donutChartLegendItem clearfix' data-piePiece='highcharts-color-"+i+"'><div class='donutLegendPercent' style='color:"+setColor+"'>"+obj[1][i][1]+"%</div><div class='donutLegendTitle'>"+obj[1][i][0]+"</div><div class='donutLegendValue' onclick=\"fnb.controls.controller.eventsObject.raiseEvent('eziSliderShow', {url: '"+obj[1][i][3]+"'});\">"+charts.formatChartValues(obj[1][i][2],obj[0][2],obj[0][4])+"</div></div>"}$("#"+target+"Legend").html(legendHtml);var columnViewAmounts=$("#"+target+"Legend").find(".donutLegendValue");var columnViewAmountsMaxWidth=0;for(i=0;i<columnViewAmounts.length;i++){if($(columnViewAmounts[i]).width()>columnViewAmountsMaxWidth){columnViewAmountsMaxWidth=$(columnViewAmounts[i]).width()+1}}$(columnViewAmounts).width(columnViewAmountsMaxWidth)}},buildBar:function(target,obj,isLegend){var barChart=Highcharts.chart(target,{chart:{type:"column"},title:{text:obj[0][0],align:"left"},subtitle:{text:obj[0][1],align:"left"},xAxis:{categories:obj[2][0]},yAxis:{min:0,title:{text:obj[0][1]}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',shared:true},plotOptions:{series:{pointWidth:45},column:{stacking:"percent"}},series:obj[1]})},buildTree:function(target,obj,isLegend){var treeChart=new Highcharts.chart(target,{colorAxis:{minColor:"#B3DCDB",maxColor:"#028C88"},series:[{type:"treemap",layoutAlgorithm:"squarified",data:obj[1],cursor:"pointer",point:{events:{click:function(e){fnb.controls.controller.eventsObject.raiseEvent("eziSliderShow",{url:e.point.url})}}}}],title:{text:""},legend:{enabled:false}});if(isLegend){var legendHtml="<table class='legendTableOuter'>";var tdCount=0;for(i=0;i<obj[1].length;i++){if(obj[1][i].arrow=="up"){var legendArrow="<div class='legend-arrow-up'></div>"}else{if(obj[1][i].arrow=="down"){var legendArrow="<div class='legend-arrow-down'></div>"}else{var legendArrow=""}}if(tdCount==0){legendHtml=legendHtml+"<tr><td width='50%' class='treeTableOuter'><table class='legendTableInner'><tr><td class='legCol1'>"+obj[1][i].name+"</td><td class='legCol2'><b>"+obj[1][i].placeHolder+"</b></td><td class='legCol3'>"+legendArrow+"</td><td class='legCol4'><b>"+obj[1][i].percentChange+"</b></td><td class='legCol5'>"+obj[1][i].mValue+"</td></tr></table></td>";tdCount=1}else{legendHtml=legendHtml+"<td width='50%' class='treeTableOuter'><table class='legendTableInner'><tr><td class='legCol1'>"+obj[1][i].name+"</td><td class='legCol2'><b>"+obj[1][i].placeHolder+"</b></td><td class='legCol3'>"+legendArrow+"</td><td class='legCol4'><b>"+obj[1][i].percentChange+"</b></td><td class='legCol5'>"+obj[1][i].mValue+"</td></tr></table></td>";tdCount=0}}legendHtml=legendHtml+"</tr></table>";$("#"+target+"Legend").html(legendHtml)}}}})();(function(){function clone(){}clone.prototype={autoInit:true,cloneTarget:"",cloneToTarget:"",removeTarget:"",removeFromTarget:"",cloneTargetSelector:"",resetInputs:true,limit:"",init:function(){console.log("Clone object init")},doClone:function(loadObj){_this=fnb.hyperion.utils.clone;var dataSettingsObject=loadObj.dataParams;_this.cloneTarget=dataSettingsObject.cloneTarget;_this.appendToTarget=dataSettingsObject.AppendToTarget;_this.limit=dataSettingsObject.limit;_this.cloneTargetSelector=(dataSettingsObject.cloneTargetSelector)?dataSettingsObject.cloneTargetSelector:"";var cloneTarget=_this.getCloneTarget(_this.cloneTarget);if(cloneTarget.length()>0){_this.doAppendToTarget(cloneTarget,_this.appendToTarget)}else{console.log("no element found")}fnb.hyperion.controller.executeCallback(dataSettingsObject.postLoadingCallback)},doRemoveElement:function(loadObj){_this=fnb.hyperion.utils.clone;var dataSettingsObject=loadObj.dataParams;_this.removeTarget=dataSettingsObject.removeTarget;_this.limit=dataSettingsObject.limit;var removeTargetEl=fnb.hyperion.$(_this.removeTarget);_this.removeFromTarget=dataSettingsObject.removeFromTarget;if(removeTargetEl.length()>0){_this.removeElFromTarget(_this.removeFromTarget,removeTargetEl)}else{console.log("no element found")}fnb.hyperion.controller.executeCallback(dataSettingsObject.postLoadingCallback)},doAppendToTarget:function(cloneTarget,appendToTarget){_this=fnb.hyperion.utils.clone;fnb.hyperion.$(appendToTarget).add(cloneTarget);_this.renameInputs(_this.appendToTarget)},renameInputs:function(appendToTarget){var appendToTargetElements=fnb.hyperion.$("! "+appendToTarget);if(appendToTargetElements.length()>0){var regex=/[#0-9]/gi,cloneStr=(_this.cloneTarget!=""&&_this.cloneTarget!=undefined)?_this.cloneTarget.replace(regex,""):_this.removeTarget.replace(regex,"");var appendToDivS=appendToTargetElements.find('* div[id^="'+cloneStr+'"]'),index=1;if(appendToDivS.length()>0&&_this.cloneTargetSelector!=""){var appendToDivS=appendToTargetElements.find("* "+_this.cloneTargetSelector)}if(appendToDivS.length()>0){appendToDivS.each(function(divElements){var idDesc=divElements.attr("id"),regex=/[_0-9]+/gi;idDesc=(idDesc==""||idDesc==undefined||idDesc==null)?"clonedEl":idDesc;console.log("idDesc :"+idDesc);idDesc=idDesc.replace(regex,"");divElements.attr("id",idDesc+index);divElementsInputs=divElements.find("*textarea,input");if(divElementsInputs.length()>0){divElementsInputs.each(function(element){var idDesc=element.attr("id"),nameDesc=element.attr("name"),regex=/[_0-9]+/gi;idDesc=idDesc.replace(regex,"");nameDesc=nameDesc.replace(regex,"");element.attr("id",idDesc+index);element.attr("name",idDesc+index)})}if(_this.limit<index){_this.removeElFromTarget(appendToTarget,divElements)}index++})}}},getCloneTarget:function(Target){_this=fnb.hyperion.utils.clone;var targetToClone=fnb.hyperion.$("! "+Target).clone(true);if(_this.resetInputs){var targetToCloneInputs=targetToClone.find("*textarea,input");targetToCloneInputs.each(function(inputElement){inputElement.val("")})}return targetToClone},removeElFromTarget:function(removeFromTaget,targetEl){fnb.hyperion.$("! "+removeFromTaget).remove(targetEl);_this.renameInputs(removeFromTaget)},destroy:function(){fnb.hyperion.utils.clone={}}};fnb.namespace("utils.clone",clone,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:'[data-role="compareItem"]',handler:"fnb.hyperion.utils.comparisonGrid.toggleHelpText(event);"}];fnb.hyperion.actions.addEvents(events)}function comparisonGrid(){}comparisonGrid.prototype={autoInit:true,compareItems:"",init:function(){this.compareItems=fnb.hyperion.$("#compareItems"),bindEvents()},toggleHelpText:function(event){this.compareItems.find(".popupMessageAnchor").hide();fnb.hyperion.$(event.currentTarget).find(".popupMessageAnchor").show()},destroy:function(){fnb.hyperion.utils.comparisonGrid={}}};fnb.namespace("utils.comparisonGrid",comparisonGrid,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:'[data-role="toggleGridBtt"]',handler:"fnb.hyperion.utils.designGrid.toggleState(event)"},{type:"frame",listener:document,events:"click",selector:'a[data-role="subMenu"]',handler:"fnb.hyperion.utils.designGrid.toggleState(event)"}]}function designGrid(){}designGrid.prototype={autoInit:true,gridParent:"",init:function(){this.gridParent=fnb.hyperion.$("#grid");bindEvents()},toggleState:function(){var gridParent=this.gridParent;if(gridParent.is(":visible")){gridParent.hide()}else{gridParent.show()}},destroy:function(){fnb.hyperion.utils.designGrid={}}};fnb.namespace("utils.designGrid",designGrid,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:"#errorClose",handler:"fnb.hyperion.utils.error.hide(event);",preventDefault:true}];fnb.hyperion.controller.attachActionEvents(events)}function error(){}error.prototype={autoInit:true,errorText:"",isOtpError:false,active:false,init:function(){console.log("Utils Error init");bindEvents();this.errorText=fnb.hyperion.controller.errorElement.find(".errorInner")},show:function(error){if(!this.active){this.active=true;if(typeof error!="string"){var errorsString="";for(var i=0;i<error.errors.length;i++){errorsString=errorsString+error.errors[i].error}var errorObject={"templateName":"errorMessage",templateData:{message:error.message,errors:errorsString}};if(error.errorCode!=1544||error.errorCode==undefined){this.regenerateCaptchaA()}error=fnb.hyperion.controller.getHtmlTemplate(errorObject)}fnb.hyperion.controller.errorElement.show();this.errorText.html(error);fnb.hyperion.utils.tracking.checkTrackingObject("errorsReturned",error)}},regenerateCaptchaA:function(){var element=fnb.hyperion.$("#captchaA1");if(element.length()>0){regenerateCaptchaA()}},hide:function(event){if(this.active){this.active=false;fnb.hyperion.controller.errorElement.hide()}},destroy:function(){fnb.hyperion.utils.error={}}};fnb.namespace("utils.error",error,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:".expander",handler:"fnb.hyperion.utils.expandables.expand(event);",preventDefault:true}];fnb.hyperion.actions.addEvents(events)}function expandables(){}expandables.prototype={autoInit:true,init:function(){bindEvents()},expand:function(event){var item=fnb.hyperion.$(event.currentTarget);var parent=item.parent();parent.toggleClass("expanded")},destroy:function(){fnb.hyperion.utils.expandables={}}};fnb.namespace("utils.expandables",expandables,true)})();(function(){function cssState(){if(fnb.hyperion.utils.eziPanel.active){setTimeout(function(){fnb.hyperion.controller.eziElement.find('*[data-type="eziWrapperLeft"]').attr("data-width","60");fnb.hyperion.controller.eziElement.find('*[data-type="eziWrapperRight"]').css("right","auto")},50)}else{setTimeout(function(){fnb.hyperion.controller.clipOverflow(false);fnb.hyperion.controller.eziElement.hide();fnb.hyperion.controller.setScrollPosition(document.body)},200)}}function eziPanel(){}eziPanel.prototype={autoInit:false,active:false,init:function(){console.log("Ezi Panel init")},show:function(){if(!this.active){this.active=true;fnb.hyperion.controller.getScrollPosition(document.body);fnb.hyperion.controller.clipOverflow(true);fnb.hyperion.controller.eziElement.show();cssState()}},hide:function(){if(this.active){this.active=false;cssState();fnb.hyperion.controller.eziElement.find('*[data-type="eziWrapperLeft"]').attr("data-width","100");fnb.hyperion.controller.eziElement.find('*[data-type="eziWrapperRight"]').css("right","-40%");fnb.hyperion.controller.eziPageContentElement.html("")}},addSalesEziOverride:function(){fnb.hyperion.$("! #eziOverlay .overlayInner").addClass("instantSalesEzi");fnb.hyperion.$("! #eziOverlay .overlayInner .eziWrapperLeft").addClass("instantSalesEzi02")},removeSalesEziOverride:function(){fnb.hyperion.$("! #eziOverlay .overlayInner").removeClass("instantSalesEzi");fnb.hyperion.$("! #eziOverlay .overlayInner .eziWrapperLeft").removeClass("instantSalesEzi02")},destroy:function(){fnb.hyperion.utils.eziPanel={}}};fnb.namespace("utils.eziPanel",eziPanel,true)})();(function(){function footer(){}footer.prototype={autoInit:true,maxButtons:10,init:function(){console.log("Utils Footer init");fnb.hyperion.controller.addResizeFunction(fnb.hyperion.utils.footer.configFooterButtons)},hide:function(target){if(fnb.hyperion.controller.is(target)){if(target.length()>0){target.parent().hide()}}else{if(fnb.hyperion.controller.footerContainer.length()>0){fnb.hyperion.controller.footerContainer.children().each(function(element){element.hide()})}}},show:function(target){if(fnb.hyperion.controller.is(target)){if(target.length()>0){target.parent().show();this.configFooterButtons()}}},configFooterButtons:function(){if(fnb.hyperion.controller.footerContainer.length()>0){var footerContainerWidth=fnb.hyperion.controller.footerContainer.outerWidth();fnb.hyperion.controller.footerContainer.children().each(function(element){var footerLeft=0;var childrenParent=element.children(0);childrenParent.css("marginLeft","");var children=childrenParent.children();if(children.length()>0){children.each(function(child){footerLeft+=child.outerWidth()});var marginLeft=footerContainerWidth-footerLeft;if(marginLeft>0){childrenParent.css("marginLeft",marginLeft+"px")}}})}},destroy:function(){fnb.hyperion.utils.footer={}}};fnb.namespace("utils.footer",footer,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:"#ContactButton",handler:"fnb.hyperion.utils.headerButtonMenu.toggle();"}];fnb.hyperion.actions.addEvents(events)}headerButtonMenu=function(){};headerButtonMenu.prototype={autoInit:true,headerButtonMenuWrapper:"",init:function(){this.headerButtonMenuWrapper=fnb.hyperion.$("#headerButtonMenu");bindEvents()},toggle:function(){if(this.headerButtonMenuWrapper.attr("data-position")!="offscreen"){fnb.hyperion.utils.headerButtonMenu.hide()}else{fnb.hyperion.utils.headerButtonMenu.show()}},show:function(){this.headerButtonMenuWrapper.attr("data-position","")},hide:function(){this.headerButtonMenuWrapper.attr("data-position","offscreen")},destroy:function(){}};fnb.namespace("utils.headerButtonMenu",headerButtonMenu,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:'[data-role="hyperlink"]',handler:"fnb.hyperion.utils.hyperlink.hyperlinkToUrl(event);",preventDefault:true}];fnb.hyperion.actions.addEvents(events)}function hyperlink(){}hyperlink.prototype={autoInit:true,init:function(){bindEvents()},hyperlinkToUrl:function(event){event.stopImmediatePropagation();var item=fnb.hyperion.$(event.currentTarget);var url=item.attr("href");if(url==""){url=item.attr("data-nav")}var dataSettingsString=item.attr("data-settings");if(dataSettingsString){var dataSettingsObject=JSON.parse(dataSettingsString);if(dataSettingsObject[0].target){dataSettingsObject[0].target=fnb.hyperion.$(dataSettingsObject[0].target)}var event=dataSettingsObject[0].event;fnb.hyperion.controller.raiseEvent(event,dataSettingsObject[0])}else{if(url!=""){fnb.hyperion.controller.raiseEvent("loadPage",{url:url,target:fnb.hyperion.controller.pageContentElement})}else{fnb.hyperion.controller.redirect(url)}}},destroy:function(){fnb.hyperion.utils.hyperlink={}}};fnb.namespace("utils.hyperlink",hyperlink,true)})();fnb.hyperion.controller.extendPage({functionReference:"imageResize",context:"fnb.hyperion.controller.page.",autoInit:true,container:"",orig_src:"",event_state:{},imgTarget:"",body:"",constrain:false,min_width:60,min_height:60,max_width:800,max_height:900,resize_canvas:"",moveObject:"",document1:"",document2:"",document3:"",iframe:"",iframeId:"",page:"",imageResizeObject:{},reInit:true,actions:[{type:"frame",listener:document,events:"mousedown touchstart",selector:".resize-handle",handler:"fnb.hyperion.controller.page.imageResize.startResize(event);"},{type:"frame",listener:document,events:"mousedown touchstart",selector:".image ",handler:"fnb.hyperion.controller.page.imageResize.startMoving(event);"},{type:"frame",listener:document,events:"click",selector:".js-crop ",handler:"fnb.hyperion.controller.page.imageResize.crop(event);"},{type:"frame",listener:document,events:"change",selector:"#imgUplaod ",handler:"fnb.hyperion.controller.page.imageResize.imageUpload(event);"}],init:function(){this.doGlobalSelections()},doGlobalSelections:function(){_this=fnb.hyperion.controller.page.imageResize;_this.image_target=fnb.hyperion.$(".resize-image");if(typeof fnb.hyperion.load.includesData.imageResize!="undefined"){var componentContainer="."+fnb.hyperion.load.includesData.imageResize.componentClass+"Container";_this.imageContainer=fnb.hyperion.$(componentContainer);_this.reszieHintDiv=fnb.hyperion.$("."+fnb.hyperion.load.includesData.imageResize.componentClass+"-resizeHint");var updateParameter="#"+fnb.hyperion.load.includesData.imageResize.updateParameter;page=fnb.hyperion.load.includesData.imageResize.page;_this.newImage=fnb.hyperion.$(updateParameter);_this.decriptedImage=fnb.hyperion.$("#decriptedImage");_this.divfileUploadResults=fnb.hyperion.$(".fileuploadResults");_this.container=fnb.hyperion.$(".resize-container");_this.body=fnb.hyperion.$("#bodyContainer");_this.resize_canvas=document.createElement("canvas")}},imageUpload:function(event){_this=fnb.hyperion.controller.page.imageResize;var files=event.target.files;if(files&&files[0]){var fileTypeAllowed=(files[0].type=="image/png"||files[0].type=="image/jpeg"||files[0].type=="image/jpg");var fileSizeAllowed=files[0].size<=10000000;if(!fileTypeAllowed&&!fileSizeAllowed){fnb.hyperion.controller.raiseEvent("postToUrl",{url:"/banking/Controller?nav=profiles."+page+".businessdirectory.navigator.BusinessDirectoryUpload&file=image&invalidFile=true"})}else{if(!fileTypeAllowed){fnb.hyperion.controller.raiseEvent("postToUrl",{url:"/banking/Controller?nav=profiles."+page+".businessdirectory.navigator.BusinessDirectoryUpload&file=image&invalidFileType=true"})}else{if(!fileSizeAllowed){fnb.hyperion.controller.raiseEvent("postToUrl",{url:"/banking/Controller?nav=profiles."+page+".businessdirectory.navigator.BusinessDirectoryUpload&file=image&invalidFileSize=true"})}else{var reader=new FileReader();reader.onload=function(e){_this.container.css("left","0");_this.container.css("top","0");_this.image_target.attr("src","");_this.image_target.attr("src",e.target.result);_this.orig_src=new Image();_this.orig_src.src=_this.image_target.attr("src");_this.imageContainer.show();_this.reszieHintDiv.show()};reader.readAsDataURL(files[0])}}}}else{_this.iframe=fnb.hyperion.$.create("iframe");_this.form=fnb.hyperion.$("#fileUploadForm");_this.iframe.attrList({"id":"upload_iframe","name":"upload_iframe","width":"0px","height":"0px","border":"0","style":"width: 0; height: 0; border: none;"});_this.formParent=_this.form.parent();_this.formParent.add(_this.iframe);window.frames["upload_iframe"].name="upload_iframe";_this.iframeId=fnb.hyperion.$("#upload_iframe");fnb.hyperion.delegate.on(_this.iframeId,"onload",fnb.hyperion.controller.page.imageResize.ieUpload);_this.form.attrList({"target":"upload_iframe","action":"getImg.php","method":"post","enctype":"multipart/form-data","encoding":"multipart/form-data"});_this.form.elem.submit();_this.divfileUploadResults.text("Uploading...")}},ieUpload:function(){_this=fnb.hyperion.controller.page.imageResize;fnb.hyperion.delegate.off(_this.iframeId,"onload",fnb.hyperion.controller.page.imageResize.ieUpload);var content=_this.iframeId.html();_this.divfileUploadResults.text("");var messageParts=content.split("-");if(messageParts[0]=="success"){_this.image_target.attr("src",messageParts[1])}else{for(var i=0;i<messageParts.length;i++){if(i!=0){_this.divfileUploadResults.html("<span class='errorMsg'>"+messageParts[i]+"</span>")}}}setTimeout("_this.formParent.remove(_this.iframeId)",250)},startResize:function(event){_this=fnb.hyperion.controller.page.imageResize;_this.moveObject={};event.preventDefault();event.stopPropagation();_this.saveEventState(event);fnb.hyperion.delegate.on(_this.body.elem,"mousemove touchmove",_this.resizing);fnb.hyperion.delegate.on(_this.body.elem,"mouseup touchend",_this.endResize)},endResize:function(event){_this=fnb.hyperion.controller.page.imageResize;_this.moveObject={};event.preventDefault();fnb.hyperion.delegate.off(_this.body.elem,"mouseup touchend",_this.endResize);fnb.hyperion.delegate.off(_this.body.elem,"mousemove touchmove",_this.resizing)},saveEventState:function(event){_this=fnb.hyperion.controller.page.imageResize;_this.event_state.container_width=_this.container.width();_this.event_state.container_height=_this.container.height();var position=_this.container.position();_this.event_state.container_left=position.objectPosX;_this.event_state.container_top=position.objectPosY;_this.event_state.image_width=_this.event_state.container_width;_this.event_state.image_height=_this.event_state.container_height;_this.event_state.mouse_x=event.clientX;_this.event_state.mouse_y=event.clientY;if(typeof event.originalEvent.touches!=="undefined"){_this.event_state.touches=[];event.originalEvent.touches.each(function(i,ob){_this.event_state.touches[i]={};_this.event_state.touches[i].clientX=0+ob.clientX;_this.event_state.touches[i].clientY=0+ob.clientY})}_this.event_state.evnt=event},resizing:function(event){_this=fnb.hyperion.controller.page.imageResize;var mouse={},width,height,left,top,offset=_this.container.position();mouse.x=event.clientX;mouse.y=event.clientY;var eventStateTarget=fnb.hyperion.$(_this.event_state.evnt.currentTarget);var mouse_position_x=(mouse.x-_this.event_state.mouse_x);var mouse_position_y=(mouse.y-_this.event_state.mouse_y);var cssLeft=_this.container.css("left"),cssLeft=(cssLeft=="")?0:parseInt(cssLeft,10),cssTop=_this.container.css("top"),cssTop=(cssTop=="")?0:parseInt(cssTop,10);_this.moveObject.mouseLeftPosition=(!_this.moveObject.mouseLeftPosition)?0:_this.moveObject.mouseLeftPosition;_this.moveObject.mouseTopPosition=(!_this.moveObject.mouseTopPosition)?0:_this.moveObject.mouseTopPosition;if(eventStateTarget.hasClass("resize-handle-se")){width=mouse.x-_this.event_state.container_left;height=mouse.y-_this.event_state.container_top;left=cssLeft;top=cssTop;_this.moveObject.mouseLeftPosition=mouse_position_x;_this.moveObject.mouseTopPosition=mouse_position_y}else{if(eventStateTarget.hasClass("resize-handle-sw")){width=_this.event_state.container_width-(mouse.x-_this.event_state.container_left);height=mouse.y-_this.event_state.container_top;left=cssLeft+(mouse_position_x-_this.moveObject.mouseLeftPosition);top=cssTop;_this.moveObject.mouseLeftPosition=mouse_position_x;_this.moveObject.mouseTopPosition=mouse_position_y}else{if(eventStateTarget.hasClass("resize-handle-nw")){width=_this.event_state.container_width-mouse_position_x;height=_this.event_state.container_height-mouse_position_y;top=cssTop+(mouse_position_y-_this.moveObject.mouseTopPosition),left=cssLeft+(mouse_position_x-_this.moveObject.mouseLeftPosition);if(event.shiftKey){var ratio=height/width;width=height/ratio;height=width*ratio;var resizeComponent=fnb.hyperion.$(".resizeComponent"),resizeComponentPos=resizeComponent.position(),resizeCom_left=resizeComponentPos.objectPosX,resizeCom_top=resizeComponentPos.objectPosY,image_height=_this.container.height();var position=_this.container.position(),image_left=position.objectPosX,image_top=position.objectPosY,newImageH=_this.event_state.container_height-image_height,newImageT=mouse_position_y-_this.moveObject.mouseTopPosition+(_this.event_state.container_top-resizeCom_top);var left=cssLeft+(_this.event_state.image_width-width),top=((newImageH+newImageT)==0)?cssTop:newImageH+newImageT;_this.event_state.image_width=width;_this.event_state.image_height=image_height}_this.moveObject.mouseLeftPosition=mouse_position_x;_this.moveObject.mouseTopPosition=mouse_position_y}else{if(eventStateTarget.hasClass("resize-handle-ne")){width=mouse.x-_this.event_state.container_left;height=_this.event_state.container_height-(mouse.y-_this.event_state.container_top);left=cssLeft;top=cssTop-(_this.moveObject.mouseTopPosition-mouse_position_y);if(_this.constrain||event.shiftKey){var ratio=height/width;width=height/ratio;height=width*ratio;var resizeComponent=fnb.hyperion.$(".resizeComponent"),resizeComponentPos=resizeComponent.position(),resizeCom_left=resizeComponentPos.objectPosX,resizeCom_top=resizeComponentPos.objectPosY,image_height=_this.container.height();var position=_this.container.position(),image_left=position.objectPosX,image_top=position.objectPosY,newImageH=_this.event_state.container_height-image_height,newImageT=mouse_position_y-_this.moveObject.mouseTopPosition+(_this.event_state.container_top-resizeCom_top);var top=((newImageH+newImageT)==0)?cssTop:newImageH+newImageT;_this.event_state.image_width=width;_this.event_state.image_height=height}_this.moveObject.mouseLeftPosition=mouse_position_x;_this.moveObject.mouseTopPosition=mouse_position_y}}}}if(_this.constrain||event.shiftKey){height=width/_this.orig_src.width*_this.orig_src.height}if(width>_this.min_width&&height>_this.min_height&&width<_this.max_width&&height<_this.max_height){_this.resizeImage(width,height);_this.container.css("left",left+"px");_this.container.css("top",top+"px")}},resizeImage:function(width,height){_this.resize_canvas.width=width;_this.resize_canvas.height=height;_this.resize_canvas.getContext("2d").drawImage(_this.orig_src,0,0,width,height);_this.image_target.attr("src",_this.resize_canvas.toDataURL("image/png"))},startMoving:function(event){_this=fnb.hyperion.controller.page.imageResize;event.preventDefault();event.stopPropagation();_this.moveObject={};_this.saveEventState(event);fnb.hyperion.delegate.on(_this.body.elem,"mousemove touchmove",_this.moving);fnb.hyperion.delegate.on(_this.body.elem,"mouseup touchend",_this.endMoving)},endMoving:function(event){_this=fnb.hyperion.controller.page.imageResize;_this.moveObject={};event.preventDefault();fnb.hyperion.delegate.off(_this.body.elem,"mouseup touchend",_this.endMoving);fnb.hyperion.delegate.off(_this.body.elem,"mousemove touchmove",_this.moving)},moving:function(event){_this=fnb.hyperion.controller.page.imageResize;var mouse={},touches;event.preventDefault();event.stopPropagation();touches=event.originalEvent.touches;mouse.x=event.clientX;mouse.y=event.clientY;var mouse_position_x=(mouse.x-_this.event_state.mouse_x);var mouse_position_y=(mouse.y-_this.event_state.mouse_y);var cssLeft=_this.container.css("left"),cssLeft=(cssLeft=="")?0:parseInt(cssLeft,10),cssTop=_this.container.css("top"),cssTop=(cssTop=="")?0:parseInt(cssTop,10);_this.moveObject.mouseLeftPosition=(!_this.moveObject.mouseLeftPosition)?0:_this.moveObject.mouseLeftPosition;_this.moveObject.mouseTopPosition=(!_this.moveObject.mouseTopPosition)?0:_this.moveObject.mouseTopPosition;var newLeft=cssLeft+(mouse_position_x-_this.moveObject.mouseLeftPosition),newTop=cssTop+(mouse_position_y-_this.moveObject.mouseTopPosition);_this.moveObject.mouseLeftPosition=mouse_position_x;_this.moveObject.mouseTopPosition=mouse_position_y;_this.container.css("left",newLeft+"px");_this.container.css("top",newTop+"px");if(_this.event_state.touches&&_this.event_state.touches.length>1&&_this.touches.length>1){var width=_this.event_state.container_width,height=_this.event_state.container_height;var a=_this.event_state.touches[0].clientX-_this.event_state.touches[1].clientX;a=a*a;var b=_this.event_state.touches[0].clientY-_this.event_state.touches[1].clientY;b=b*b;var dist1=Math.sqrt(a+b);a=event.originalEvent.touches[0].clientX-touches[1].clientX;a=a*a;b=event.originalEvent.touches[0].clientY-touches[1].clientY;b=b*b;var dist2=Math.sqrt(a+b);var ratio=dist2/dist1;width=width*ratio;height=height*ratio;_this.resizeImage(width,height)}},getBytes:function(input){var bytes=[];for(var i=0;i<input.length;++i){bytes.push(input.charCodeAt(i))}return bytes},crop:function(){_this=fnb.hyperion.controller.page.imageResize;var mask=$("."+fnb.hyperion.load.includesData.imageResize.componentClass+"-resize-overlay"),maskP=$("."+fnb.hyperion.load.includesData.imageResize.componentClass+"-resize-overlay").position(),res=$(".resize-container"),resP=$(res).position(),dl=maskP.left,dt=maskP.top,dr=maskP.left+mask.outerWidth(),db=maskP.top+mask.outerHeight(),sl=resP.left,st=resP.top,sw=res.outerWidth(),sr=resP.left+sw,sh=res.outerHeight(),sb=resP.top+sw,x_overlap=0,y_overlap=0,x_overlap=Math.max(0,Math.min(dr,sr)-Math.max(dl,sl)),y_overlap=Math.max(0,Math.min(db,sb)-Math.max(dt,st)),nl=dl>sl?dl-sl:x_overlap-x_overlap,nt=dt>st?dt-st:y_overlap-y_overlap,nw=(sw-(sw-x_overlap)),nh=(sh-(sh-y_overlap)),ot=dt>st?0:st-dt,ol=dl>sl?0:sl-dl,dw=mask.outerWidth(),dh=mask.outerHeight();crop_canvas=document.createElement("canvas");crop_canvas.width=dw;crop_canvas.height=dh;crop_canvas.getContext("2d").drawImage(_this.image_target.elem,nl,nt,nw,nh,0,0,dw,dh);var imgIncrypt=crop_canvas.toDataURL("image/png");var emptyCanvas="";if(fnb.hyperion.load.includesData.imageResize.componentClass=="logo"){emptyCanvas="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAFIklEQVR4Xu3VsRHAMAzEsHj/pTOBXbB9pFchyLycz0eAwFXgsCFA4C4gEK+DwENAIJ4HAYF4AwSagD9IczM1IiCQkUNbswkIpLmZGhEQyMihrdkEBNLcTI0ICGTk0NZsAgJpbqZGBAQycmhrNgGBNDdTIwICGTm0NZuAQJqbqREBgYwc2ppNQCDNzdSIgEBGDm3NJiCQ5mZqREAgI4e2ZhMQSHMzNSIgkJFDW7MJCKS5mRoREMjIoa3ZBATS3EyNCAhk5NDWbAICaW6mRgQEMnJoazYBgTQ3UyMCAhk5tDWbgECam6kRAYGMHNqaTUAgzc3UiIBARg5tzSYgkOZmakRAICOHtmYTEEhzMzUiIJCRQ1uzCQikuZkaERDIyKGt2QQE0txMjQgIZOTQ1mwCAmlupkYEBDJyaGs2AYE0N1MjAgIZObQ1m4BAmpupEQGBjBzamk1AIM3N1IiAQEYObc0mIJDmZmpEQCAjh7ZmExBIczM1IiCQkUNbswkIpLmZGhEQyMihrdkEBNLcTI0ICGTk0NZsAgJpbqZGBAQycmhrNgGBNDdTIwICGTm0NZuAQJqbqREBgYwc2ppNQCDNzdSIgEBGDm3NJiCQ5mZqREAgI4e2ZhMQSHMzNSIgkJFDW7MJCKS5mRoREMjIoa3ZBATS3EyNCAhk5NDWbAICaW6mRgQEMnJoazYBgTQ3UyMCAhk5tDWbgECam6kRAYGMHNqaTUAgzc3UiIBARg5tzSYgkOZmakRAICOHtmYTEEhzMzUiIJCRQ1uzCQikuZkaERDIyKGt2QQE0txMjQgIZOTQ1mwCAmlupkYEBDJyaGs2AYE0N1MjAgIZObQ1m4BAmpupEQGBjBzamk1AIM3N1IiAQEYObc0mIJDmZmpEQCAjh7ZmExBIczM1IiCQkUNbswkIpLmZGhEQyMihrdkEBNLcTI0ICGTk0NZsAgJpbqZGBAQycmhrNgGBNDdTIwICGTm0NZuAQJqbqREBgYwc2ppNQCDNzdSIgEBGDm3NJiCQ5mZqREAgI4e2ZhMQSHMzNSIgkJFDW7MJCKS5mRoREMjIoa3ZBATS3EyNCAhk5NDWbAICaW6mRgQEMnJoazYBgTQ3UyMCAhk5tDWbgECam6kRAYGMHNqaTUAgzc3UiIBARg5tzSYgkOZmakRAICOHtmYTEEhzMzUiIJCRQ1uzCQikuZkaERDIyKGt2QQE0txMjQgIZOTQ1mwCAmlupkYEBDJyaGs2AYE0N1MjAgIZObQ1m4BAmpupEQGBjBzamk1AIM3N1IiAQEYObc0mIJDmZmpEQCAjh7ZmExBIczM1IiCQkUNbswkIpLmZGhEQyMihrdkEBNLcTI0ICGTk0NZsAgJpbqZGBAQycmhrNgGBNDdTIwICGTm0NZuAQJqbqREBgYwc2ppNQCDNzdSIgEBGDm3NJiCQ5mZqREAgI4e2ZhMQSHMzNSIgkJFDW7MJCKS5mRoREMjIoa3ZBATS3EyNCAhk5NDWbAICaW6mRgQEMnJoazYBgTQ3UyMCAhk5tDWbgECam6kRAYGMHNqaTUAgzc3UiIBARg5tzSYgkOZmakRAICOHtmYTEEhzMzUiIJCRQ1uzCQikuZkaERDIyKGt2QQE0txMjQgIZOTQ1mwCAmlupkYEBDJyaGs2AYE0N1MjAgIZObQ1m4BAmpupEQGBjBzamk1AIM3N1IiAQEYObc0mIJDmZmpEQCAjh7ZmExBIczM1IiCQkUNbswkIpLmZGhH4AStUAMmSuOW2AAAAAElFTkSuQmCC"}else{emptyCanvas="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAa8AAADYCAYAAABcO2zMAAAIK0lEQVR4Xu3VgQkAAAgCwdx/6eZ4uCaQM3DnCBAgQIBATGCxvOISIECAAIEzXp6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQICA8fIDBAgQIJATMF65ygQmQIAAAePlBwgQIEAgJ2C8cpUJTIAAAQLGyw8QIECAQE7AeOUqE5gAAQIEjJcfIECAAIGcgPHKVSYwAQIECBgvP0CAAAECOQHjlatMYAIECBAwXn6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQICA8fIDBAgQIJATMF65ygQmQIAAAePlBwgQIEAgJ2C8cpUJTIAAAQLGyw8QIECAQE7AeOUqE5gAAQIEjJcfIECAAIGcgPHKVSYwAQIECBgvP0CAAAECOQHjlatMYAIECBAwXn6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQICA8fIDBAgQIJATMF65ygQmQIAAAePlBwgQIEAgJ2C8cpUJTIAAAQLGyw8QIECAQE7AeOUqE5gAAQIEjJcfIECAAIGcgPHKVSYwAQIECBgvP0CAAAECOQHjlatMYAIECBAwXn6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQICA8fIDBAgQIJATMF65ygQmQIAAAePlBwgQIEAgJ2C8cpUJTIAAAQLGyw8QIECAQE7AeOUqE5gAAQIEjJcfIECAAIGcgPHKVSYwAQIECBgvP0CAAAECOQHjlatMYAIECBAwXn6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQICA8fIDBAgQIJATMF65ygQmQIAAAePlBwgQIEAgJ2C8cpUJTIAAAQLGyw8QIECAQE7AeOUqE5gAAQIEjJcfIECAAIGcgPHKVSYwAQIECBgvP0CAAAECOQHjlatMYAIECBAwXn6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQICA8fIDBAgQIJATMF65ygQmQIAAAePlBwgQIEAgJ2C8cpUJTIAAAQLGyw8QIECAQE7AeOUqE5gAAQIEjJcfIECAAIGcgPHKVSYwAQIECBgvP0CAAAECOQHjlatMYAIECBAwXn6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQICA8fIDBAgQIJATMF65ygQmQIAAAePlBwgQIEAgJ2C8cpUJTIAAAQLGyw8QIECAQE7AeOUqE5gAAQIEjJcfIECAAIGcgPHKVSYwAQIECBgvP0CAAAECOQHjlatMYAIECBAwXn6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQICA8fIDBAgQIJATMF65ygQmQIAAAePlBwgQIEAgJ2C8cpUJTIAAAQLGyw8QIECAQE7AeOUqE5gAAQIEjJcfIECAAIGcgPHKVSYwAQIECBgvP0CAAAECOQHjlatMYAIECBAwXn6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQICA8fIDBAgQIJATMF65ygQmQIAAAePlBwgQIEAgJ2C8cpUJTIAAAQLGyw8QIECAQE7AeOUqE5gAAQIEjJcfIECAAIGcgPHKVSYwAQIECBgvP0CAAAECOQHjlatMYAIECBAwXn6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQICA8fIDBAgQIJATMF65ygQmQIAAAePlBwgQIEAgJ2C8cpUJTIAAAQLGyw8QIECAQE7AeOUqE5gAAQIEjJcfIECAAIGcgPHKVSYwAQIECBgvP0CAAAECOQHjlatMYAIECBAwXn6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQICA8fIDBAgQIJATMF65ygQmQIAAAePlBwgQIEAgJ2C8cpUJTIAAAQLGyw8QIECAQE7AeOUqE5gAAQIEjJcfIECAAIGcgPHKVSYwAQIECBgvP0CAAAECOQHjlatMYAIECBAwXn6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQICA8fIDBAgQIJATMF65ygQmQIAAAePlBwgQIEAgJ2C8cpUJTIAAAQLGyw8QIECAQE7AeOUqE5gAAQIEjJcfIECAAIGcgPHKVSYwAQIECBgvP0CAAAECOQHjlatMYAIECBAwXn6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQICA8fIDBAgQIJATMF65ygQmQIAAAePlBwgQIEAgJ2C8cpUJTIAAAQLGyw8QIECAQE7AeOUqE5gAAQIEjJcfIECAAIGcgPHKVSYwAQIECBgvP0CAAAECOQHjlatMYAIECBAwXn6AAAECBHICxitXmcAECBAgYLz8AAECBAjkBIxXrjKBCRAgQMB4+QECBAgQyAkYr1xlAhMgQIDAA7JGANk4G/5jAAAAAElFTkSuQmCC"}var noCanvas="data:,";if(imgIncrypt==emptyCanvas||imgIncrypt==noCanvas){fnb.hyperion.controller.raiseEvent("postToUrl",{url:"/banking/Controller?nav=profiles."+page+".businessdirectory.navigator.BusinessDirectoryUpload&emptyCanvas=true"})}else{var imgParts=imgIncrypt.split(",");var img=_this.decode64(imgParts[1]);_this.newImage.elem.src=imgIncrypt;var type=_this.newImage.elem.id;if(type=="logo"){fnb.hyperion.$("#logoData").elem.value=imgIncrypt;fnb.hyperion.$("#fromPage").elem.value=type;var formName="BUSINESS_DIRECTORY_LOGO_UPLOAD";var targetDiv="#pageContent";fnb.utils.params.getParams(formName);var loadObj={url:fnb.controls.controller.getUrl(),target:targetDiv,params:fnb.controls.controller.getParams(),formName:formName};var form=$("form[name='"+loadObj["formName"]+"']");form.submit()}else{if(type=="image1"){fnb.hyperion.$("#image1Data").elem.value=imgIncrypt;fnb.hyperion.$("#fromPage").elem.value=type;var formName="BUSINESS_DIRECTORY_IMAGE_UPLOAD";var targetDiv="#pageContent";fnb.utils.params.getParams(formName);var loadObj={url:fnb.controls.controller.getUrl(),target:targetDiv,params:fnb.controls.controller.getParams(),formName:formName};var form=$("form[name='"+loadObj["formName"]+"']");form.submit()}else{if(type=="image2"){fnb.hyperion.$("#image2Data").elem.value=imgIncrypt;fnb.hyperion.$("#fromPage").elem.value=type;var formName="BUSINESS_DIRECTORY_IMAGE_UPLOAD";var targetDiv="#pageContent";fnb.utils.params.getParams(formName);var loadObj={url:fnb.controls.controller.getUrl(),target:targetDiv,params:fnb.controls.controller.getParams(),formName:formName};var form=$("form[name='"+loadObj["formName"]+"']");form.submit()}}}_this.decriptedImage.src=imgParts[0]+","+img;fnb.hyperion.controller.raiseEvent("hideEzi")}},decode64:function(input){var keyStr="ABCDEFGHIJKLMNOP"+"QRSTUVWXYZabcdef"+"ghijklmnopqrstuv"+"wxyz0123456789+/"+"=";var output="";var chr1,chr2,chr3="";var enc1,enc2,enc3,enc4="";var i=0;var base64test=/[^A-Za-z0-9\+\/\=]/g;if(base64test.exec(input)){alert("There were invalid base64 characters in the input text.\n"+"Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\n"+"Expect errors in decoding.")}input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{enc1=keyStr.indexOf(input.charAt(i++));enc2=keyStr.indexOf(input.charAt(i++));enc3=keyStr.indexOf(input.charAt(i++));enc4=keyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2)}if(enc4!=64){output=output+String.fromCharCode(chr3)}chr1=chr2=chr3="";enc1=enc2=enc3=enc4=""}while(i<input.length);return unescape(output)},destroy:function(){fnb.hyperion.controller.page.imageResize={}}});(function(){var loginForm;var loginButton;var usernameInput;var usernameError;var passwordInput;var passwordError;var mobileLoginWrapper;var submitting=false;var popUpVisible=false;var errorVisible=false;var timeOut;function doSelections(){mobileLoginWrapper=fnb.hyperion.$("#mobileLogin");loginForm=fnb.hyperion.$("#LOGIN_FORM");loginButton=fnb.hyperion.$("#loginButton");usernameInput=fnb.hyperion.$("#Username");usernameError=fnb.hyperion.$("#inlineError_Username");passwordInput=fnb.hyperion.$("#Password");passwordError=fnb.hyperion.$("#inlineError_Password")}function submit(){if(valid()){submitting=true;loginForm.elem.submit();enableDisableLoginFields();timeOut=setTimeout(function(){submitting=false;enableDisableLoginFields()},5000)}}function enableDisableLoginFields(){timeOut=setTimeout(function(){if(submitting){loginButton.attr("data-state","disabled");loginButton.disabled=true;usernameInput.disabled=true;passwordInput.disabled=true}else{loginButton.attr("data-state","");loginButton.disabled=false;usernameInput.disabled=false;passwordInput.disabled=false}},300)}function valid(){if(usernameInput.value=="Username"||usernameInput.value==""){fnb.hyperion.utils.login.showHideError("Username",true);return false}if(passwordInput.value=="Password"||passwordInput.value==""){fnb.hyperion.utils.login.showHideError("Password",true);return false}return true}function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:"#popupLoginButton",handler:"fnb.hyperion.utils.login.showHideLoginPopup(event);"},{type:"frame",listener:document,events:"click",selector:'div[data-role="blackCloseButton"]',handler:"fnb.hyperion.utils.login.showHideLoginPopup(event);"},{type:"frame",listener:document,events:"click",selector:"#loginButton",handler:"fnb.hyperion.utils.login.doLogin(event);"},{type:"frame",listener:document,events:"keyup",selector:"#loginButton",handler:"fnb.hyperion.utils.login.doLogin(event);"},{type:"frame",listener:document,events:"keyup",selector:"#Username",handler:"fnb.hyperion.utils.login.doLogin(event);"},{type:"frame",listener:document,events:"keyup",selector:"#Password",handler:"fnb.hyperion.utils.login.doLogin(event);"},{type:"frame",listener:document,events:"blur",selector:"#Username",handler:'fnb.hyperion.utils.login.showHideError(["Username","Password"],false);'},{type:"frame",listener:document,events:"blur",selector:"#Password",handler:'fnb.hyperion.utils.login.showHideError(["Username","Password"],false);'}];fnb.hyperion.actions.addEvents(events)}function login(){}login.prototype={autoInit:true,init:function(){console.log("Utils Login init");doSelections();bindEvents()},doLogin:function(event){var doSubmit=(event.type=="keyup")?(event.keyCode==13)?true:false:true;if(!submitting&&doSubmit){submit()}},showHideLoginPopup:function(event){if(popUpVisible){fnb.hyperion.controller.pageContentContainerElement.show();mobileLoginWrapper.hide();popUpVisible=false}else{fnb.hyperion.controller.pageContentContainerElement.hide();mobileLoginWrapper.show();popUpVisible=true}},showHideError:function(field,show){if(show){if(errorVisible===false){if(typeof field=="object"){field.each(function(item){switch(item){case"Username":usernameError.show();break;case"Password":passwordError.show();break;default:}})}else{switch(field){case"Username":usernameError.show();break;case"Password":passwordError.show();break;default:}}errorVisible=true}}else{if(errorVisible===true){if(typeof field=="object"){field.each(function(item){switch(item){case"Username":usernameError.hide();break;case"Password":passwordError.hide();break;default:}})}else{switch(field){case"Username":usernameError.hide();break;case"Password":passwordError.hide();break;default:}}errorVisible=false}}},submitFormFromLink:function(action,form){var loginForm=fnb.hyperion.$("#"+form);var environment=fnb.hyperion.$("#bankingUrl").val();environmentStr=environment.toString();loginForm.attr("action",environmentStr+"/banking/main.jsp");loginForm.attr("target","_top");if(action=="verifyRemAdv"){fnb.hyperion.$("#simple").disabled=false}fnb.hyperion.$("#formAction").val(action);fnb.hyperion.$("#nav").val(action);loginForm.elem.submit()},destroy:function(){fnb.hyperion.utils.login={}}};fnb.namespace("utils.login",login,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:"#menuBtn",handler:"fnb.hyperion.utils.menu.toggle()",preventDefault:true},{type:"frame",listener:document,events:"click",selector:"#menu .closeButton",handler:"fnb.hyperion.utils.menu.toggle()",preventDefault:true}];fnb.hyperion.actions.addEvents(events)}function menu(){}menu.prototype={autoInit:true,active:false,menuBtn:{},init:function(){console.log("Utils Menu init");this.menuBtn=fnb.hyperion.$("#menuBtn");this.menu=fnb.hyperion.$("#menu");bindEvents()},hide:function(){this.active=false;var menu=fnb.hyperion.$("#menu");if(menu.length()>0){menu.removeClass("active")}return true},toggle:function(){if(!this.active){this.active=true;fnb.hyperion.$("#menu").addClass("active");return true}else{this.active=false;fnb.hyperion.$("#menu").removeClass("active");return true}},destroy:function(){fnb.hyperion.utils.menu={}}};fnb.namespace("utils.menu",menu,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:".notificationsClose",handler:"fnb.hyperion.utils.notifications.hide(event);"}];fnb.hyperion.controller.attachActionEvents(events)}function notifications(){}notifications.prototype={autoInit:true,active:false,notificationText:"",notificationInner:"",init:function(){console.log("Utils notifications init");bindEvents();this.notificationsText=fnb.hyperion.controller.notificationsElement.find(".notificationsMessages");this.notificationInner=fnb.hyperion.controller.notificationsElement.find(".notificationsInner")},show:function(notification){if(!this.active){this.active=true;this.notificationsText.html("");fnb.hyperion.controller.notificationsElement.show();if(notification){this.notificationsText.html(notification)}fnb.hyperion.controller.clipOverflow(true)}},hide:function(){if(this.active){this.active=false;fnb.hyperion.controller.notificationsElement.hide();fnb.hyperion.controller.clipOverflow(false);fnb.hyperion.utils.notifications.notificationInner.html("")}},destroy:function(){fnb.hyperion.utils.notifications={}}};fnb.namespace("utils.notifications",notifications,true)})();(function(){function overlay(){}overlay.prototype={autoInit:false,active:false,init:function(){console.log("Utils Overlay init")},show:function(){if(!this.active){fnb.hyperion.controller.getScrollPosition(document.body);this.active=true;fnb.hyperion.controller.clipOverflow(true);fnb.hyperion.controller.overlayElement.show()}},hide:function(){if(this.active){this.active=false;fnb.hyperion.controller.clipOverflow(false);fnb.hyperion.controller.overlayElement.hide();fnb.hyperion.controller.overlayElement.get(0).hide()}},destroy:function(){fnb.hyperion.utils.overlay={}}};fnb.namespace("utils.overlay",overlay,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:'[data-role="pageMenuItem"]',handler:"fnb.hyperion.utils.pageMenu.select(event);",preventDefault:true},{type:"frame",listener:document,events:"click",selector:'[data-role="pageMenuHeading2"]',handler:"fnb.hyperion.utils.pageMenu.toggleLevel3(event);"}];fnb.hyperion.actions.addEvents(events)}function pageMenu(){}pageMenu.prototype={autoInit:true,init:function(){bindEvents()},toggleLevel3:function(event){var level2Item=fnb.hyperion.$(event.currentTarget);if(level2Item.attr("data-state")=="inactive"){level2Item.attr("data-state","active")}else{level2Item.attr("data-state","inactive")}},select:function(event){var item=fnb.hyperion.$(event.currentTarget);var url=item.attr("href");if(url!=""){fnb.hyperion.controller.raiseEvent("loadPage",{url:url,target:fnb.hyperion.controller.pageContentElement})}},destroy:function(){fnb.hyperion.utils.pageMenu={}}};fnb.namespace("utils.pageMenu",pageMenu,true)})();(function(){function progress(){}progress.prototype={autoInit:false,init:function(){},startEziLoader:function(type){this.start()},start:function(){fnb.hyperion.controller.bodyElement.addClass("loading")},stop:function(){fnb.hyperion.controller.bodyElement.removeClass("loading")},reset:function(type){},createProgressBar:function(speed,percent){},clearInterval:function(type){},update:function(percent,speed){},showHideLoader:function(visible){},checkSpeed:function(percent,speed){},destroy:function(){}};fnb.namespace("progress",progress,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:'[data-role="sideMenuItem"]',handler:"fnb.hyperion.utils.sideMenu.sideMenuItem(event);"},{type:"frame",listener:document,events:"click",selector:"#sideMenuButton",handler:"fnb.hyperion.utils.sideMenu.show(event);"},{type:"frame",listener:document,events:"click",selector:"#sideMenuClose",handler:"fnb.hyperion.utils.sideMenu.hide(event);"}];fnb.hyperion.actions.addEvents(events)}sideMenu=function(){};sideMenu.prototype={autoInit:true,sideMenu:"",sideMenuButton:"",sideMenuContent:"",activeGroupId:"",sideMenuGroups:{},sideMenuItems:[],init:function(){this.sideMenu=fnb.hyperion.$("#sideMenu");this.sideMenuButton=fnb.hyperion.$("#sideMenuButton");this.sideMenuContent=fnb.hyperion.$("#sideMenuContent");this.createGroupObject();bindEvents()},createGroupObject:function(){var sideMenuGroups=fnb.hyperion.$(".sideMenuGroup");var parentObj=this;if(sideMenuGroups.length()>0){sideMenuGroups.each(function(elem){parentObj.sideMenuGroups[elem.attr("id")]={"elem":elem}})}},show:function(){fnb.hyperion.controller.bodyElement.addClass("menuActive");this.sideMenuButton.attr("data-position","offscreen");this.sideMenuContent.attr("data-position","")},hide:function(){fnb.hyperion.controller.bodyElement.removeClass("menuActive");this.sideMenuButton.attr("data-position","");this.sideMenuContent.attr("data-position","offscreen");if(this.activeGroupId!=""){this.sideMenuGroups[this.activeGroupId].elem.hide()}this.activeGroupId="";this.sideMenu.attr("data-active","false")},sideMenuItem:function(event){var parentObject=this;var selectedSideMenu=fnb.hyperion.$(event.currentTarget);var selectedSideMenuId="sideMenuGroup_"+selectedSideMenu.attr("id");if(selectedSideMenuId==this.activeGroupId){fnb.hyperion.controller.pageContentContainerElement.show();parentObject.sideMenuGroups[this.activeGroupId].elem.hide();this.activeGroupId="";this.sideMenu.attr("data-active","false")}else{if(this.activeGroupId!=""){parentObject.sideMenuGroups[this.activeGroupId].elem.hide();parentObject.sideMenuGroups[selectedSideMenuId].elem.show()}else{fnb.hyperion.controller.pageContentContainerElement.hide();parentObject.sideMenuGroups[selectedSideMenuId].elem.show()}this.activeGroupId=selectedSideMenuId;this.sideMenu.attr("data-active","true")}},destroy:function(){}};fnb.namespace("utils.sideMenu",sideMenu,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:'[data-role="subMenuItem"]',handler:"fnb.hyperion.utils.subMenu.selectSubMenuItem(event);",preventDefault:true},{type:"frame",listener:document,events:"click",selector:'[data-role="subMenuAtricleItem"]',handler:"fnb.hyperion.utils.subMenu.selectSubMenuItem(event);"},{type:"frame",listener:document,events:"click",selector:'[data-role="subMenuHeading2"]',handler:"fnb.hyperion.utils.subMenu.toggleLevel(event);"},{type:"frame",listener:document,events:"click",selector:'[data-role="subMenuSetLink"]',handler:"fnb.hyperion.utils.subMenu.selectSubMenuSet(event);"}];fnb.hyperion.actions.addEvents(events)}function subMenu(){}subMenu.prototype={autoInit:true,active:false,activeSubtab:"",init:function(){bindEvents()},select:function(event){var toptabId=event.selectedTabId;var subMenu=fnb.hyperion.$("#subMenu_"+toptabId);var submenuId=subMenu.prop("id");if(this.active&&submenuId!=this.activeSubtab){fnb.hyperion.controller.raiseEvent("hideSubMenu");this.activeSubtab=submenuId;fnb.hyperion.controller.raiseEvent("showSubMenu")}else{if(this.active&&submenuId==this.activeSubtab){fnb.hyperion.controller.raiseEvent("hideSubMenu");this.activeSubtab=""}else{this.activeSubtab=submenuId;fnb.hyperion.controller.raiseEvent("showSubMenu")}}},selectSubMenuItem:function(event){var item=fnb.hyperion.$(event.currentTarget);var url=item.attr("href");var thirdParty=item.attr("data-thirdParty");if(url!=""&&thirdParty!="true"){fnb.hyperion.controller.raiseEvent("loadPage",{url:url,target:fnb.hyperion.controller.pageContentElement})}else{fnb.hyperion.controller.redirect(url)}},toggleLevel:function(event){var expandableItem=fnb.hyperion.$(event.currentTarget);if(expandableItem.attr("data-state")=="inactive"){expandableItem.attr("data-state","active")}else{expandableItem.attr("data-state","inactive")}},show:function(){fnb.hyperion.controller.subTabWrapper.show();fnb.hyperion.controller.pageContentContainerElement.hide();fnb.hyperion.$("#"+this.activeSubtab).show();this.active=true},hide:function(){if(this.active){fnb.hyperion.controller.subTabWrapper.hide();fnb.hyperion.controller.pageContentContainerElement.show();fnb.hyperion.$("#"+this.activeSubtab).hide();this.active=false}},destroy:function(){}};fnb.namespace("utils.subMenu",subMenu,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:'[data-role="subTab"]',handler:"fnb.hyperion.utils.subTabs.select(event);"}];fnb.hyperion.actions.addEvents(events)}function subTabs(){}subTabs.prototype={autoInit:true,breakPoints:[3,2,1],activeGroupId:"",init:function(){bindEvents();fnb.hyperion.controller.attachPageEvent("fnb.hyperion.utils.subTabs.initSubTabsScroller()","")},initSubTabsScroller:function(){this.subTabs=undefined;this.subTabsScrollerParent=fnb.hyperion.$("#subTabsScrollerInner");if(this.subTabsScrollerParent.length()>0){this.subTabsChildren=this.subTabsScrollerParent.find('*[data-role="subTab"]');this.subTabsCount=this.subTabsChildren.length();this.subTabsScroller=new fnb.hyperion.horizontalScroller();this.subTabsScroller.scrollableParent=this.subTabsScrollerParent;this.subTabsScroller.scrollerChildren='[data-role="subTab"]';this.subTabsScroller.scrollStopWidth=200;this.subTabsScroller.scrollSpeed=5;this.subTabsScroller.maxStops=1;this.subTabsScroller.moveTreshold=0.2;this.subTabsScroller.bindEvents();this.subTabsScroller.enabled=false;fnb.hyperion.controller.addResizeFunction(this.resize);this.adjustSubTabs(window.innerWidth||document.documentElement.clientWidth,fnb.hyperion.controller.getBreakPosition(window.innerWidth||document.documentElement.clientWidth))}},resize:function(windowSize,breakpoint){fnb.hyperion.utils.subTabs.adjustSubTabs(windowSize,breakpoint)},adjustSubTabs:function(windowSize,breakpoint){console.log("windowSize");console.log(windowSize);var currentBreakPointValue=(this.breakPoints[breakpoint-1])?this.breakPoints[breakpoint-1]:this.breakPoints[breakpoint];var currentContainerWidth=this.subTabsScrollerParent.outerWidth();console.log("scrollerWidth");console.log(currentContainerWidth);var newTabWidth=Math.round(currentContainerWidth/currentBreakPointValue);var newScrollingWrapperWidth=Math.round(newTabWidth*this.subTabsCount);this.subTabsScroller.enabled=false;if(!isNaN(newScrollingWrapperWidth)){console.log("not isNan");if((currentContainerWidth+(newTabWidth/2))>(newTabWidth*this.subTabsCount)){console.log("1:");console.log(currentContainerWidth+(newTabWidth/2));console.log("2:");console.log(newTabWidth*this.subTabsCount);this.subTabsScrollerParent.css("width","");this.subTabsScrollerParent.css("left","")}else{this.subTabsScrollerParent.css("width",newScrollingWrapperWidth+"px");this.subTabsScroller.enabled=true}}else{console.log("isNan");this.subTabsScrollerParent.css("width","");this.subTabsScrollerParent.css("left","")}},createGroupObject:function(parentContainer){var parentObj=this;var subTabs=parentContainer.find('*[data-role="subTab"]');subTabs.each(function(elem){var id=elem.attr("id");parentObj.subTabs[id]={};parentObj.subTabs[id].subTab=elem;parentObj.subTabs[id].subTabContent=fnb.hyperion.$("#"+elem.attr("data-content"));if(elem.attr("data-selected")=="true"){parentObj.activeGroupId=elem.attr("id")}})},select:function(event){var parentObj=this;var selectedItem=fnb.hyperion.$(event.currentTarget);var selectedItemId=selectedItem.attr("id");console.log(parentObj.subTabs);if(parentObj.subTabs===undefined){parentObj.subTabs={};parentObj.createGroupObject(selectedItem.parent())}if(parentObj.activeGroupId!=selectedItemId){if(parentObj.subTabs[parentObj.activeGroupId].subTabContent.length()>0){parentObj.subTabs[parentObj.activeGroupId].subTabContent.hide()}parentObj.subTabs[parentObj.activeGroupId].subTab.attr("data-selected","false");if(parentObj.subTabs[selectedItemId].subTabContent.length()>0){parentObj.subTabs[selectedItemId].subTabContent.show()}parentObj.subTabs[selectedItemId].subTab.attr("data-selected","true");parentObj.activeGroupId=selectedItemId}},destroy:function(){fnb.hyperion.utils.subTabs={}}};fnb.namespace("utils.subTabs",subTabs,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:"#errorClose",handler:"fnb.hyperion.utils.error.hide(event);",preventDefault:true}];fnb.hyperion.controller.attachActionEvents(events)}function initModules(){for(var module in fnb.hyperion.utils.table){if(fnb.hyperion.utils.table[module].autoInit){fnb.hyperion.utils.table[module].init()}}}function table(){}table.prototype={autoInit:true,init:function(){console.log("Utils Table init");initModules();bindEvents()},destroy:function(){fnb.hyperion.utils.table={}}};fnb.namespace("utils.table",table,true)})();(function(){function actionButton(){}actionButton.prototype={autoInit:true,active:false,TooltipEl:"",activeTooltip:"",init:function(){console.log("Utils Table actionButton init");fnb.hyperion.controller.attachPageEvent("fnb.hyperion.utils.table.actionButton.reset()","")},show:function(target){if(this.active==false){var actionTarget=fnb.hyperion.$(target);var targetId=actionTarget.attr("id");var actionTargetParent=actionTarget.parent();var parentPosition=actionTargetParent.position();var parentWidth=actionTargetParent.outerWidth();this.activeTooltip=actionTargetParent.find("#"+targetId+"toolTipListMessage");if(this.activeTooltip.length()>0){this.activeTooltip.show();var buttonPos=actionTarget.position();var activeTooltipHeight=this.activeTooltip.outerHeight();var activeTooltipWidth=this.activeTooltip.outerWidth();var targetHeight=actionTarget.outerHeight();var bottomPos=(activeTooltipHeight/2)-(targetHeight/2);var yPos=(buttonPos.objectPosY+buttonPos.pageScroll.pageScrollY)-bottomPos;var parentRightPosX=parentPosition.objectPosX+parentWidth;var xPos=(parentRightPosX-buttonPos.objectPosX)+8;this.activeTooltip.css({"right":xPos+"px","top":"-"+bottomPos+"px"});this.active=true}}else{this.hide()}},hide:function(){if(this.active){this.activeTooltip.hide();this.active=false}},reset:function(){this.active=false},destroy:function(){fnb.hyperion.utils.table.actionButton={}}};fnb.namespace("utils.table.actionButton",actionButton,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:".fnbFooterDropdownWrapper .dropdownItem",handler:"fnb.hyperion.utils.table.paging.changeRows(event);"},{type:"frame",listener:document,events:"keyup",selector:".fnbFooterPagingInputTextInput",handler:"fnb.hyperion.utils.table.paging.checkValue(event);"}];fnb.hyperion.actions.addEvents(events)}function paging(){}paging.prototype={autoInit:true,init:function(){console.log("Utils Table paging init");bindEvents()},changeRows:function(event){var dropdownItem=fnb.hyperion.$(event.currentTarget);var dropdownDataValue=dropdownItem.attr("data-value");dropdownDataValue=dropdownDataValue.replace(/'/g,'"');var params=JSON.parse(dropdownDataValue);var loadObj={target:fnb.hyperion.$(params[0].target),url:params[0].url};fnb.hyperion.controller.raiseEvent("loadIntoPage",loadObj)},checkValue:function(event){var keyCode=event.charCode||event.keyCode||event.which;if(keyCode==13){var pagingInput=fnb.hyperion.$(event.currentTarget);var pagingInputValue=pagingInput.val();var params=JSON.parse(pagingInput.attr("data-params"));var loadObj={target:fnb.hyperion.$(params[0].target),url:params[0].url+"="+pagingInputValue};fnb.hyperion.controller.raiseEvent("loadIntoPage",loadObj)}},destroy:function(){fnb.hyperion.utils.table.paging={}}};fnb.namespace("utils.table.paging",paging,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"keyup",selector:".fnbTableSearchTextInput",handler:"fnb.hyperion.utils.table.search.checkValue(event);"},{type:"frame",listener:document,events:"click",selector:".fnbTableWrapper",handler:"fnb.hyperion.utils.table.search.hide(event);"}];fnb.hyperion.actions.addEvents(events)}function search(){}search.prototype={autoInit:true,timer:null,timeOut:2000,init:function(){console.log("Utils Table search init");bindEvents()},checkValue:function(event){_this=this;if(event.keyCode==13){clearTimeout(this.timeout);this.submit(event);return false}if(this.timeout){clearTimeout(this.timeout)}this.timeout=setTimeout(function(){_this.submit(event)},this.timeOut)},submit:function(event){var searchInput=fnb.hyperion.$(event.currentTarget);var searchValue=searchInput.val();var params=JSON.parse(searchInput.attr("data-params"));var loadObj={target:fnb.hyperion.$(params[0].target),url:params[0].url+"="+((searchValue&&searchValue!="")?searchValue:"noSearchValueEntered")};fnb.hyperion.controller.raiseEvent("loadIntoPage",loadObj)},hide:function(event){var target=fnb.hyperion.$(event.target);var targetClass=target.attr("class");var validTarget=(targetClass)?(targetClass=="input validationTarget fnbTableSearchTextInput"||targetClass=="blackSearchButtonLabel"||targetClass=="blackAddButtonLabel")?false:true:true;if(validTarget){fnb.hyperion.utils.table.actionButton.hide()}},destroy:function(){fnb.hyperion.utils.table.search={}}};fnb.namespace("utils.table.search",search,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:".fnbTableSelectAllButton",handler:"fnb.hyperion.utils.table.selectAll.select(event);"}];fnb.hyperion.actions.addEvents(events)}function selectAll(){}selectAll.prototype={autoInit:true,init:function(){console.log("Utils Table selectAll init");bindEvents()},select:function(event){var target=fnb.hyperion.$(event.currentTarget);var buttonLabelWrapper=target.find(".fnbTableActionHeaderButtonLabel");var buttonLabelText=(buttonLabelWrapper.html()=="Select All")?"Deselect All":"Select All";buttonLabelWrapper.html(buttonLabelText);var dataValue=target.attr("data-value");var params=dataValue.split(":");var parentTable=fnb.hyperion.$(params[0]);parentTable.find("."+params[1]).each(function(element,index){if(element.hasClass("fnbTableCheckBoxItem")){var checkBoxElement=element.find(".checkBox");if(buttonLabelText=="Deselect All"){fnb.hyperion.forms.checkBox.setChecked(checkBoxElement)}else{fnb.hyperion.forms.checkBox.setUnChecked(checkBoxElement)}}})},destroy:function(){fnb.hyperion.utils.table.selectAll={}}};fnb.namespace("utils.table.selectAll",selectAll,true)})();(function(){function getHTML(elements){var html="";if(elements.length){for(var i=0;i<elements.length;i++){html+=getElementHTML(elements[i])}}else{html=getElementHTML(elements)}return html}function getElementHTML(element){var elementHtml=fnb.hyperion.htmlTemplates[element.templateName];return replaceParams(elementHtml,element.templateData)}function replaceParams(template,data){var htmlSnippet="";var prop;var regex;for(prop in data){regex=new RegExp("{{"+prop+"}}","ig");htmlSnippet=(htmlSnippet||template).replace(regex,data[prop])}return htmlSnippet}function templates(){}templates.prototype={autoInit:false,addTemplate:function(object){var templateTarget=fnb.hyperion.$(object.templateTarget);if(templateTarget.length()>0){templateTarget.show();this.setTarget(templateTarget,getHTML(object.templateElements))}},getTemplate:function(object){return getHTML(object)},setTarget:function(target,html){target.html(html)},clearTarget:function(target){var target=fnb.hyperion.$(target);if(target.length()>0){target.html("")}},destroy:function(){fnb.hyperion.utils.templates={}}};fnb.namespace("utils.templates",templates,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:document,events:"click",selector:'[data-role="theGridToggle"]',handler:"fnb.hyperion.utils.theGrid.toggleState(event)"}];fnb.hyperion.actions.addEvents(events)}function theGrid(){}theGrid.prototype={autoInit:true,gridRows:"",gridCols:"",init:function(){this.gridRows="theGridOverlayRows";this.gridCols="theGridOverlayCols";bindEvents()},toggleState:function(event){var gridRows=fnb.hyperion.$("#"+this.gridRows);var gridCols=fnb.hyperion.$("#"+this.gridCols);if(gridRows.is(":visible")){gridRows.hide()}else{gridRows.show()}if(gridCols.is(":visible")){gridCols.hide()}else{gridCols.show()}},destroy:function(){fnb.hyperion.utils.theGrid={}}};fnb.namespace("utils.theGrid",theGrid,true)})();(function(){function bindEvents(){var events=[{type:"frame",listener:fnb.hyperion.utils.topTabs.topTabsNav,events:"click",selector:fnb.hyperion.utils.topTabs.topScroller.scrollerChildren,handler:"fnb.hyperion.utils.topTabs.select(event);",preventDefault:true},{type:"frame",listener:document,events:"click",selector:"#topTabScrollButtonRight",handler:"fnb.hyperion.utils.topTabs.tabsScrollRight();"},{type:"frame",listener:document,events:"click",selector:"#topTabScrollButtonLeft",handler:"fnb.hyperion.utils.topTabs.tabsScrollLeft();"}];fnb.hyperion.actions.addEvents(events)}function initModules(){for(var module in fnb.hyperion.utils.topTabs){if(fnb.hyperion.utils.topTabs[module].autoInit){fnb.hyperion.utils.topTabs[module].init()}}}function topTabs(){}topTabs.prototype={autoInit:false,breakPoints:[10,5,4],topTabBreakpointValue:-2,topScroller:"",tabsCount:0,topTabsNavParent:"",headerInner:"",topTabsWrapper:"",topTabsNav:"",topTabsSlider:"",topTabsSliderIndex:-1,topTabsChildren:"",leftScrollButton:"",rightScrollButton:"",topTabsLeftScrollShow:false,topTabsRightScrollShow:false,topScrollerStops:0,init:function(){console.log("Utils Top Tabs init");this.topTabsWrapper=fnb.hyperion.$("#topTabs");if(this.topTabsWrapper.length()>0){this.topTabsNav=this.topTabsWrapper.first();this.topTabsNavParent=this.topTabsNav.parent();this.headerInner=this.topTabsNavParent.parent();this.topTabsChildren=this.topTabsNav.find(".mainTab");this.tabsCount=this.topTabsChildren.length();this.topScroller=new fnb.hyperion.horizontalScroller();this.topScroller.scrollableParent=this.topTabsNav;this.topScroller.scrollerChildren=".mainTab";this.topScroller.scrollStopWidth=200;this.topScroller.scrollSpeed=5;this.topScroller.maxStops=1;this.topScroller.moveTreshold=0.2;this.topScroller.bindEvents();this.topScroller.enabled=false;bindEvents();fnb.hyperion.controller.addResizeFunction(this.resize);this.adjustTopTabs(window.innerWidth||document.documentElement.clientWidth,fnb.hyperion.controller.getBreakPosition(window.innerWidth||document.documentElement.clientWidth));this.enable();initModules()}},select:function(event){var selectedTab=fnb.hyperion.$(event.currentTarget);if(this.topScroller.moving==false){var subMenu=selectedTab.attr("data-submenu");if(subMenu==="true"){var selectedTabId=selectedTab.prop("id");event.selectedTabId=selectedTabId;fnb.hyperion.controller.raiseEvent("showHideSubMenu",event)}else{var url=selectedTab.attr("data-url");fnb.hyperion.utils.topTabs.highlightSelected(event);fnb.hyperion.controller.raiseEvent("loadPage",{url:url,target:fnb.hyperion.controller.pageContentElement})}}},highlightSelected:function(event){var selectedTab=(event.currentTarget)?fnb.hyperion.$(event.currentTarget):fnb.hyperion.$(event.target);var selectedTopTab=this.topTabsNav.find(".topTabSelected");if(selectedTopTab.length()>0){selectedTopTab.removeClass("topTabSelected")}selectedTab.addClass("topTabSelected")},resize:function(windowSize,breakpoint){fnb.hyperion.utils.topTabs.adjustTopTabs(windowSize,breakpoint)},adjustTopTabs:function(windowSize,breakpoint){if(this.topTabsChildren.length()>0){var currentBreakPointValue=(this.breakPoints[breakpoint-1])?this.breakPoints[breakpoint-1]:this.breakPoints[breakpoint];var currentContainerWidth=this.topTabsNavParent.outerWidth();var newTabWidth=Math.round(currentContainerWidth/currentBreakPointValue);var newScrollingWrapperWidth=Math.round(newTabWidth*this.tabsCount);this.topScroller.enabled=false;if(!isNaN(newScrollingWrapperWidth)){if((currentContainerWidth+(newTabWidth/2))>(newTabWidth*this.tabsCount)){this.topTabsNav.css("width","");this.topTabsNav.css("left","")}else{this.topTabsNav.css("width",newScrollingWrapperWidth+"px");this.topScroller.enabled=true}}else{this.topTabsNav.css("width","");this.topTabsNav.css("left","")}this.adjustTabsWidth(newTabWidth+"px");this.topTabBreakpointValue=currentBreakPointValue;this.topScrollerStops=Math.floor(this.tabsCount/currentBreakPointValue);this.topScroller.maxStops=this.topScrollerStops;this.topScroller.moveTo(0,1);this.topScroller.afterStop=this.adjustScrollButtonRoles;this.adjustScrollButtonRoles();this.topScroller.scrollStopWidth=currentContainerWidth}},adjustTabsWidth:function(width){var newVal=parseInt(width,10);if(!isNaN(newVal)){if(this.topScroller.enabled){this.topTabsChildren.css("width",width)}else{this.topTabsChildren.css("width","")}}else{if(this.tabsCount<11&&this.topScroller.enabled==false){this.topTabsChildren.css("width","")}else{if(this.topScroller.enabled==true){this.topTabsChildren.css("width",width)}}}},adjustTabsRoles:function(breakPointValue){this.applyDataAttribute("date-position","");this.topTabsChildren[breakPointValue].attr("data-position","last")},resetTopTabs:function(){this.topScroller.moveTo(0,1);this.topTabsNav.css("width","100%");this.topTabsNav.css("left","0");this.topScroller.enabled=false;if(this.topTabsLeftScrollShow==true){fnb.hyperion.utils.topTabs.leftScrollButton.hide();this.topTabsLeftScrollShow=false}if(this.topTabsRightScrollShow==true&&this.tabsCount<=fnb.hyperion.utils.topTabs.breakPoints[0]){fnb.hyperion.utils.topTabs.rightScrollButton.hide();this.topTabsRightScrollShow=false}},adjustScrollButtonRoles:function(){if(fnb.hyperion.utils.topTabs.leftScrollButton==""){fnb.hyperion.utils.topTabs.leftScrollButton=fnb.hyperion.$("#topTabScrollButtonLeft")}if(fnb.hyperion.utils.topTabs.rightScrollButton==""){fnb.hyperion.utils.topTabs.rightScrollButton=fnb.hyperion.$("#topTabScrollButtonRight")}if(fnb.hyperion.utils.topTabs.topScroller.enabled==true){if(fnb.hyperion.utils.topTabs.topScroller.currentIndex==0){fnb.hyperion.utils.topTabs.leftScrollButton.hide();fnb.hyperion.utils.topTabs.rightScrollButton.show()}else{if(fnb.hyperion.utils.topTabs.topScroller.currentIndex>0&&fnb.hyperion.utils.topTabs.topScroller.currentIndex<fnb.hyperion.utils.topTabs.topScrollerStops){fnb.hyperion.utils.topTabs.leftScrollButton.show();fnb.hyperion.utils.topTabs.rightScrollButton.show()}else{if(fnb.hyperion.utils.topTabs.topScroller.currentIndex==fnb.hyperion.utils.topTabs.topScrollerStops){fnb.hyperion.utils.topTabs.rightScrollButton.hide();fnb.hyperion.utils.topTabs.leftScrollButton.show()}}}}else{fnb.hyperion.utils.topTabs.leftScrollButton.hide();fnb.hyperion.utils.topTabs.rightScrollButton.hide()}},tabsScrollRight:function(){this.topScroller.next()},tabsScrollLeft:function(){this.topScroller.previous()},enable:function(){if(this.topTabsWrapper.length()>0){this.topTabsWrapper.attr("data-disbaled",false)}},disable:function(){if(this.topTabsWrapper.length()>0){this.topTabsWrapper.attr("data-disbaled",true)}},destroy:function(){fnb.hyperion.utils.topTabs={}}};fnb.namespace("utils.topTabs",topTabs,true)})();(function(){function bindEvents(listener){var events=[{type:"frame",listener:document,events:"click",selector:".overlayItemCheckBoxWrapper .checkBox",handler:"fnb.hyperion.utils.travel.setOverLay(event);"}];fnb.hyperion.controller.attachActionEvents(events)}function travel(){}travel.prototype={autoInit:true,init:function(){console.log("travel object init");bindEvents()},setOverLay:function(event){var element=fnb.hyperion.$(event.currentTarget);var tavelCellOverLay=element.parent().parent().parent().parent();var elementsFound=tavelCellOverLay.find("* .checkBox.checked");isChecked=(elementsFound.length()>0)?true:false;if(isChecked){tavelCellOverLay.addClass("tavelCellCheckBoxSelected")}else{tavelCellOverLay.removeClass("tavelCellCheckBoxSelected")}},destroy:function(){fnb.hyperion.utils.travel={}}};fnb.namespace("utils.travel",travel,true)})();(function(){function widgets(){}widgets.prototype={autoInit:false,init:function(){},loadWidgets:function(widgets){for(var i=0;i<widgets.length;i++){var widgetTarget=fnb.hyperion.$("#"+widgets[i]);var url=widgetTarget.attr("data-application");var loadObj={url:url,target:widgetTarget,async:true};fnb.hyperion.controller.raiseEvent("loadApp",loadObj)}},destroy:function(){fnb.hyperion.utils.widgets={}}};fnb.namespace("utils.widgets",widgets,true)})();