/*! Atom 1.11.0 (2019-10-15) */
function showHideToggle(a){var b=document.getElementById(a),c=b.currentStyle?b.currentStyle.display:getComputedStyle(b,null).display;b.style.display="none"===c?"block":"none"}var atom=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n=883;return window.innerWidth<501&&!0,{init:function(){f=document.getElementById("overlayContent"),a=document.getElementById("atom--backdrop-overlay"),d=document.getElementById("loaderGif"),e=document.getElementById("loaderGifOverlay"),b=document.getElementById("overlay"),c=document.getElementById("overlayContent"),j=document.getElementById("menu--main"),k=document.getElementById("nav--main"),l=document.getElementById("nav--main-close"),m=document.getElementById("nav--sub"),atom.eventListeners();var h=document.querySelectorAll("[data-carousel]");if(h.length>0)for(var i=[],n=0;n<h.length;n++)i[n]=h[n],atom.carousel.init(i[n],!1);var o=$(".grid--split-50  > .text--heading");if(o.length>0)for(var p=0;p<o.length;p++){console.log($(o[p]).html().length);var q=$(o[p]).html().length;q>20&&$(o[p]).removeClass("heading-3").addClass("heading-4 noMargin")}return this.menu.init(),g=-1!==window.navigator.userAgent.indexOf("MSIE 9.0"),!0},eventListeners:function(){var b=document.getElementById("gridButtonsClick");null!==b&&b.addEventListener("click",function(a){return a.preventDefault(),atom.toggleClass(b.parentElement,"show"),!0});var c=document.getElementById("overlayClose");null!==c&&c.addEventListener("click",function(a){return a.preventDefault(),a.target===c&&atom.closeOverlay(),!0});var d=document.querySelectorAll("[data-overlay]");if(null!==d)for(h=0;h<d.length;h++)d[h].addEventListener("click",atom.openOverlay);null!==a&&a.addEventListener("click",function(b){b.preventDefault();var c=atom.hasClass(k,"menu--state-open");return b.target===a&&(c&&null!==k&&(atom.removeClass(k,"menu--state-open"),atom.removeClass(m,"subMenu--open"),atom.removeClass(j,"menu--state-open")),atom.closeOverlay()),!0});var e=(document.getElementById("submitBtn"),document.querySelectorAll("[data-anchor]"));if(null!==e)for(h=0;h<e.length;h++)e[h].addEventListener("click",atom.smoothScroll);var f=document.querySelectorAll("a[onclick]");if(null!==f)for(h=0;h<f.length;h++)f[h].addEventListener("click",atom.preventDefault);window.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(function(){atom.changeBackground(window.innerWidth)},500)}),window.onLoad=atom.changeBackground(window.innerWidth),null!==j&&(j.addEventListener("click",atom.menu.toggleMenu),null!==l&&l.addEventListener("click",atom.menu.toggleMenu));var g=document.getElementById("nav--main-items");if(null!==g){var n=g.getElementsByClassName("menu--sub-link");if(null!==n)for(h=0;h<n.length;h++)n[h].addEventListener("click",atom.menu.switchSub)}},changeBackground:function(a){var b=document.getElementsByClassName("container--background");if(null!==b)for(h=0;h<b.length;h++){var c=b[h].getAttribute("data-bgm"),d=b[h].getAttribute("data-bgmposition"),e=b[h].getAttribute("data-bgmsize"),f=b[h].getAttribute("data-bg"),g=b[h].getAttribute("data-bgposition"),i=b[h].getAttribute("data-bgsize");a<=n?(b[h].style.backgroundImage=c,b[h].style.backgroundPosition=d,b[h].style.backgroundSize=e):(b[h].style.backgroundImage=f,b[h].style.backgroundPosition=g,b[h].style.backgroundSize=i)}return!1},toggleClass:function(a,b){return a.classList.toggle(b)},addClass:function(a,b){return a?g?a.className+=" "+b:a.classList.add(b):void 0},removeClass:function(a,b){return a?g?a.className.replace(b,""):a.classList.remove(b):void 0},hasClass:function(a,b){if(a)return g?void 0:a.classList.contains(b)},hasValue:function(a){if(a)return a.value.length>0||void 0},showHideToggle:function(a){var b=document.getElementById(a),c=b.currentStyle?b.currentStyle.display:getComputedStyle(b,null).display;return b.style.display="none"===c?"block":"none",!0},prepareOverlay:function(){atom.toggleClass(a,"show"),atom.addClass(b,"show"),atom.addClass(e,"show")},openOverlay:function(c,d){if(c.preventDefault(),atom.hasClass(a,"show")||atom.addClass(a,"show"),"menu"!==d&&(atom.hasClass(b,"show")||(atom.addClass(b,"show"),atom.addClass(e,"show"))),"maps"!==d&&"menu"!==d&&"datepicker"!==d){var g=this.getAttribute("data-overlay"),h=document.getElementById(g),i=h.innerHTML;atom.hasClass(h,"full")&&atom.addClass(f,"full"),f.innerHTML=i,atom.forms.init("#eziOverlay")}atom.removeClass(e,"show"),document.querySelectorAll("body")[0].setAttribute("style","overflow: hidden;"),$("html").attr("style","overflow: visible;")},closeOverlay:function(){document.getElementById("overlayContent").innerHTML="",atom.hasClass(f,"full")&&atom.removeClass(f,"full"),atom.hasClass(d,"show")||atom.removeClass(d,"show"),atom.removeClass(a,"show"),atom.removeClass(b,"show"),atom.removeClass(e,"show"),document.querySelectorAll("body")[0].setAttribute("style","overflow-x: hidden;"),$("html").attr("style","")},smoothScroll:function(a){atom.preventDefault(a);var b=document.getElementById(this.getAttribute("data-anchor"));null!==b&&b.scrollIntoView({block:"start",behavior:"smooth"})},clone:function(a,b){b=document.getElementById(b);var c=document.getElementById(a),d=c.cloneNode(!0);d.id="some_id",b.appendChild(d)},inViewPort:function(a){var b=a.getBoundingClientRect(),c=(a.offsetWidth,a.offsetHeight);return b.top>=0&&b.left>=0&&b.right<=(window.innerWidth||document.documentElement.clientWidth)&&b.bottom<=(window.innerHeight-c||document.documentElement.clientHeight-c)},preventDefault:function(a){a.preventDefault()}}}();atom.ajax=function(){return{init:function(){return atom.eventListeners(),!0},loadOverlay:function(){}}}(),atom.carousel=function(){return{init:function(a,b){var c=a.getAttribute("id"),d=a.getAttribute("data-carouselStart");atom.removeClass(document.getElementById(c),"absoluteAlign--vertical-bottom"),atom.carousel.slick(c,d)},slick:function(a,b){document.getElementById(a);$("#"+a+" .carousel--container").slick({arrows:!0,dots:!0,variableWidth:!0,appendArrows:"#"+a+" .atom--slider-nav",appendDots:"#"+a+" .atom--slider-nav",init:atom.carousel.runInit(a)})},runInit:function(a){setTimeout(function(){var b=document.getElementById(a+"Dots").getElementsByClassName("atom--slider-nav")[0],c=document.getElementById(a).getElementsByClassName("slick-next")[0];c.parentNode.removeChild(c),b.appendChild(c);var d=document.getElementById(a).getAttribute("data-carouselstart");d>0&&$("#"+a+" .carousel--container").slick("slickGoTo",d)},100)}}}(),atom.datepicker=function(){var a,b,c,d,e,f,g=new Date,h=[],i={monthsToShow:3,selectedDate:0,endDateIndex:0};return{months:{mL:["January","February","March","April","May","June","July","August","September","October","November","December"],mS:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},disabledDates:[],holidays:{"01, 01":"New Year's Day","21, 03":"Human Rights Day","02, 04":"Family Day","27, 04":"Freedom Day","01, 05":"Workers' Day","16, 06":"Youth Day","09, 08":"National Women's Day","24, 09":"Heritage Day","16, 12":"Day of Reconciliation","25, 12":"Christmas Day","26, 12":"Day of Goodwill"},dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],init:function(d){if(d){var g=d.currentTarget;c=d.currentTarget.parentElement,a=d.currentTarget.parentElement.getAttribute("id")+"Calendar",e=document.getElementById("overlayContent"),f=document.getElementById("loaderGif"),e.innerHTML="<div class='atom datepicker' id='"+a+"'></div>";var h=document.createElement("div");if(h.setAttribute("id",(a+"Months").toString()),h.setAttribute("class","months--wrapper"),b=document.getElementById(a),b.appendChild(atom.datepicker.calendarHeading()),b.appendChild(h),g.hasAttribute("data-target")&&g.hasAttribute("data-nav")&&(b.setAttribute("data-target",g.getAttribute("data-target")),b.setAttribute("data-nav",g.getAttribute("data-nav"))),void 0!==b){var i=c.getElementsByClassName("date")[0],j=i.getAttribute("value");atom.datepicker.initialize(b,j),atom.prepareOverlay(),atom.removeClass(f,"show"),atom.openOverlay(d,"datepicker")}}else{var k=document.getElementsByClassName("onSlide");if(k.length>0)for(var l=0;l<k.length;l++)atom.datepicker.onSlideCalendar(k[l])}},onSlideCalendar:function(a){c=a.nextElementSibling;var b=c.getElementsByClassName("date")[0],d=b.getAttribute("value"),e=document.createElement("div");this.id=a.getAttribute("id"),e.setAttribute("id",(this.id+"Months").toString()),e.setAttribute("class","months--wrapper"),a.appendChild(e),atom.datepicker.initialize(a,d)},createDropDown:function(a,b){return'<div class="atom form--input form--input-container form--select hasPlaceholder glDropdown validationWrapper" data-type="dropdown-label" data-required="true"><label for="'+a+'Dropdown">Year</label><input id="'+a+'Dropdown" type="hidden" name="'+a+'Dropdown" data-option="-1" value="'+b+'"><input class="input--main" type="button" data-element="select" value="'+b+'"><span class="selectChoice show">'+b+'</span><span class="placeholder hide">'+b+'</span><div class="atom dropdown dropdown--select-container"></div></div>'},yearsDropDown:function(a){var b=document.getElementById(a),c=b.getElementsByClassName("datepicker--heading")[0],d=Number(atom.datepicker.getMaxDate(c).getFullYear()),e=Number(atom.datepicker.getMinDate(c).getFullYear()),f=document.createElement("div");f.setAttribute("class","dropDownWrapper"),f.innerHTML=atom.datepicker.createDropDown(a,g.getFullYear()),c.appendChild(f);for(var h=c.getElementsByClassName("dropdown--select-container")[0],i=d,j=0;i>=e;i--,j++){var k=document.createElement("div"),l=document.createElement("span"),m=document.createElement("p");k.setAttribute("class","atom dropdown--select-item"),k.setAttribute("id","index"+j),k.setAttribute("data-value",i),k.setAttribute("data-option",j),k.setAttribute("data-label",i),m.setAttribute("class","atom text--paragraph"),m.innerHTML=i,l.setAttribute("class","dropdown--item-line year-list"),k.appendChild(m),k.appendChild(l),h.appendChild(k)}var n=document.querySelectorAll("#"+a+" .form--select");if(null!==n)for(i=0;i<n.length;i++){var o=n[i].getElementsByClassName("input--main")[0];null!==o&&(o.addEventListener("click",atom.forms.dropdown.dropdownClick),o.addEventListener("keydown",atom.forms.dropdown.dropdownOpen),o.addEventListener("change",atom.forms.dropdown.dropdownOpen),o.addEventListener("focus",atom.forms.dropdown.focus),o.addEventListener("focusout",atom.forms.dropdown.focusOut))}var p=document.querySelectorAll("#"+a+" .dropdown--select-item");if(null!==p)for(i=0;i<p.length;i++)p[i].addEventListener("mousedown",atom.datepicker.dropdownOptionClick)},dropdownOptionClick:function(a){a.stopPropagation();var b=a.currentTarget,c=b.parentElement.parentElement.parentElement.parentElement.nextElementSibling,d=c.getAttribute("id"),e=this.textContent,f=this.getAttribute("data-value"),g=this.getAttribute("data-option");atom.forms.dropdown.changeValue(f,g,e),h[0].setFullYear(f),atom.datepicker.removeCalendar(d),atom.datepicker.addCalendar(h[0],d)},calendarNavArrows:function(a){var b=a.getElementsByClassName("next")[0],c=a.getElementsByClassName("prev")[0];b.addEventListener("click",atom.datepicker.switchMonth),c.addEventListener("click",atom.datepicker.switchMonth)},setUnavailableDates:function(a){if(null!==a&&void 0!==a){var b=a.split(",").map(function(a){return a.trim()});atom.datepicker.disabledDates={},b=atom.datepicker.unavailableDateRange(b);for(var c=0;c<b.length;c++){var d=atom.datepicker.newDateInstance(b[c]),e=atom.datepicker.formatNumber(d.getDate())+", "+atom.datepicker.formatNumber(d.getMonth()+1)+", "+d.getFullYear();atom.datepicker.disabledDates[e]=d}}},isLastDay:function(a){var b=new Date(a.getTime()),c=b.getMonth();return b.setDate(b.getDate()+1),b.getMonth()!==c},unavailableDateRange:function(a){for(var b=new Date,c=new Date,d=[],e=0;e<a.length;e++)if(a[e].indexOf("-")>=1){d=a[e].split("-"),a.splice(e,0),b=atom.datepicker.newDateInstance(d[0]),c=atom.datepicker.newDateInstance(d[1]),a.push(b.getDate()+" "+atom.datepicker.months.mS[b.getMonth()]+" "+b.getFullYear());for(var f=0;b.getTime()<c.getTime();f++)b.setDate(b.getDate()+1),a.push(b.getDate()+" "+atom.datepicker.months.mS[b.getMonth()]+" "+b.getFullYear())}return a},initialize:function(a,b){var d=a.getElementsByClassName("datepicker--heading")[0],e=a.id,f=atom.datepicker.getMinDate(d),h=a.getElementsByClassName("prev")[0],j=c.getAttribute("data-unavailable"),k=atom.datepicker.newDateInstance(c.getElementsByClassName("endDate")[0]);g=atom.datepicker.newDateInstance(b),atom.hasClass(c,"rangepicker")&&(i.endDateIndex=k.getTime()),g.getTime()>=f.getTime()?g=g:(g=f,atom.addClass(h,"hide")),i.selectedDate=g.getTime(),atom.datepicker.setUnavailableDates(j),atom.datepicker.addCalendar(g,e+"Months"),atom.datepicker.calendarNavArrows(a),"true"===c.getAttribute("data-yearselector")&&atom.datepicker.yearsDropDown(e)},destroy:function(){i.endDateIndex=null,i.selectedDate=null},addCalendar:function(a,b){for(var c=document.getElementById(b),e=0;e<i.monthsToShow;e++)h[e]=new Date(a.getFullYear(),a.getMonth()+e,1),atom.datepicker.createMonth(h[e],b);d=document.getElementsByClassName("active");for(var f=0;f<d.length;f++)d[f].addEventListener("click",atom.datepicker.selectedDay),d[f].addEventListener("mouseover",atom.datepicker.mouseOverEvent),d[f].addEventListener("mouseout",atom.datepicker.mouseOutEvent);var g=new Date(h[0].getFullYear(),h[0].getMonth(),1),j=new Date(h[2].getFullYear(),h[2].getMonth(),1),k=c.parentElement.getElementsByClassName("datepicker--heading")[0];atom.datepicker.setStartAndEnd(c),atom.datepicker.setCalendarNavbar(k,g,j)},switchMonth:function(a){var b=atom.hasClass(a.currentTarget,"next")?1:-1,c=a.currentTarget.parentElement.parentElement,d=a.currentTarget.parentElement.parentElement.nextElementSibling.getAttribute("id"),e=new Date(h[0].getFullYear(),h[0].getMonth()+b,1),f=new Date(h[2].getFullYear(),h[2].getMonth()+b,1),g=atom.datepicker.getMinDate(c),i=atom.datepicker.getMaxDate(c);e.setHours(0,0,0,0),f.setHours(0,0,0,0),g.getTime()<=e.getTime()&&i.getTime()>=f.getTime()&&(atom.datepicker.removeCalendar(d),atom.datepicker.addCalendar(e,d))},setCalendarNavbar:function(a,b,c){var d=atom.datepicker.getMinDate(a),e=atom.datepicker.getMaxDate(a),f=a.getElementsByClassName("prev")[0],g=a.getElementsByClassName("next")[0];d.getFullYear()===b.getFullYear()&&d.getMonth()===b.getMonth()?atom.addClass(f,"hide"):atom.removeClass(f,"hide"),e.getFullYear()===c.getFullYear()&&e.getMonth()===c.getMonth()?atom.addClass(g,"hide"):atom.removeClass(g,"hide")},removeCalendar:function(a){for(var b=document.getElementById(a);b.firstChild;)b.removeChild(b.firstChild)},mouseOverEvent:function(a){var b=a.currentTarget;atom.addClass(b,"hover"),atom.datepicker.hoverRange(b.parentElement.parentElement.parentElement)},mouseOutEvent:function(a){atom.removeClass(a.currentTarget,"hover")},hoverRange:function(a){var b=Number(i.selectedDate),e=Number(i.endDateIndex),f=a.getElementsByClassName("hover")[0],g=a.getElementsByClassName("end")[0],h=void 0!==f?f.getAttribute("data-time"):0;if(atom.hasClass(c,"rangepicker")&&b>0)for(var j=0;j<d.length;j++){var k=d[j],l=Number(k.getAttribute("data-time"));l>b&&l<e?atom.addClass(k,"inBtw"):l>b&&l<h&&!g?(atom.addClass(k,"inBtw"),atom.addClass(f,"hover")):atom.removeClass(k,"inBtw")}},createMonth:function(a,c){var d=document.getElementById(c),e=document.createElement("div"),f=document.createElement("ul"),g=document.createElement("ul"),h=document.createElement("li"),i=document.createElement("li");e.setAttribute("class","month noSelect"),e.setAttribute("id","month-"+a.getMonth().toString()),f.setAttribute("class","year--month-text"),h.setAttribute("class","year--heading"),i.setAttribute("class","month--heading"),g.setAttribute("class","day--name-text"),h.innerText=a.getFullYear(),i.innerText=this.months.mL[a.getMonth()],f.appendChild(i),f.appendChild(h);for(var j=0;j<this.dayNames.length;j++){var k=document.createElement("li");k.innerText=this.dayNames[j],g.appendChild(k)}e.appendChild(f),e.appendChild(g),e.appendChild(atom.datepicker.createDays(a)),d&&(d.appendChild(e),atom.hasClass(d.parentElement,"onSlide")||b.appendChild(d))},createDays:function(a){var b=atom.datepicker.getFirstDay(a),c=atom.datepicker.getLastDay(a),d=0,e=document.createElement("ul");for(e.setAttribute("class","days");d<c;)for(var f=0;f<c;f++){var h=document.createElement("li");if(b===f||d>0){if(!(d<c))break;d++;var i=new Date(a.getFullYear(),a.getMonth(),d).getTime();this.dateDisable(d,a.getMonth())||this.dateDisable(d,a.getMonth(),a.getFullYear())?h.setAttribute("class","day unavailable"):this.isHoliday(d,a.getMonth())||this.isHoliday(d,a.getMonth(),a.getFullYear())?h.setAttribute("class","day active holiday"):(g.getDate()===d&&a.getMonth()===g.getMonth()&&(a.getFullYear(),g.getFullYear()),h.setAttribute("class","day active")),h.setAttribute("data-time",i),h.innerHTML="<span class='activeDate'>"+d+"</span>",e.appendChild(h)}else h.setAttribute("class","day"),h.innerHTML="<span class='activeDate'>&nbsp;</span>",e.appendChild(h)}return e},calendarHeading:function(){var a=document.createElement("div");a.setAttribute("class","datepicker--heading"),a.setAttribute("data-min",c.getAttribute("data-mindate")),a.setAttribute("data-max",c.getAttribute("data-maxdate"));var b=document.createElement("ul"),d=document.createElement("li"),e=document.createElement("li"),f=document.createElement("li");return d.setAttribute("class","prev"),e.setAttribute("class","next"),f.setAttribute("class","atom text--heading heading-3"),f.innerText=this.getHeading(),b.appendChild(d),b.appendChild(e),b.appendChild(f),a.appendChild(b),a},addToolTip:function(){var a=document.createElement("span");return a.setAttribute("id","toolTipText"),a.innerText="Tool tip messsage!!",a},bindEvent:function(a,b){if(a.hasAttribute("data-target")&&a.hasAttribute("data-nav")){var c=a.getAttribute("data-target"),d=atom.datepicker.newDateInstance(Number(b.getAttribute("data-time"))),e=a.id.replace("InputCalendar",""),f=a.getAttribute("data-nav")+"&"+e+"="+atom.datepicker.dateToString(d,"short");fnb.controls.controller.eventsObject.raiseEvent("loadUrlToTarget",{url:f,target:"#"+c})}},selectedDay:function(a){var b=a.currentTarget,d=b.parentElement.parentElement.parentElement,e=b.getAttribute("data-time"),f=d.getElementsByClassName("selected")[0],g=atom.datepicker.getFirstElementByClass("end");c=atom.hasClass(d.parentElement,"onSlide")?d.parentElement.nextElementSibling:c,atom.datepicker.bindEvent(d.parentElement,b),atom.hasClass(c,"rangepicker")?void 0!==f&&!g&&e>f.getAttribute("data-time")?(atom.addClass(b,"end"),atom.datepicker.setSelectedDate(c,f.getAttribute("data-time"),b.getAttribute("data-time")),atom.hasClass(d.parentElement,"onSlide")||(atom.datepicker.destroy(),atom.closeOverlay())):void 0!==f&&void 0!==g?(atom.datepicker.removeClassFromDom(d,"hover"),atom.datepicker.removeClassFromDom(d,"selected"),atom.datepicker.removeClassFromDom(d,"end"),atom.addClass(b,"selected"),atom.datepicker.setSelectedDate(c,b.getAttribute("data-time")),atom.datepicker.hoverRange(d)):(void 0!==f&&atom.removeClass(f,"selected"),atom.addClass(b,"selected"),atom.datepicker.setSelectedDate(c,b.getAttribute("data-time")),atom.datepicker.hoverRange(d)):(atom.datepicker.removeClassFromDom(d,"selected"),atom.addClass(b,"selected"),atom.datepicker.setSelectedDate(c,b.getAttribute("data-time")),atom.hasClass(d.parentElement,"onSlide")||(atom.datepicker.destroy(),atom.closeOverlay()))},setSelectedDate:function(a,b,c){var d=a.getElementsByClassName("input--datepicker")[0],e=a.getElementsByClassName("date")[0],f=a.getElementsByClassName("endDate")[0];if(Number(b)>0&&Number(c)>0){var g=atom.datepicker.getDate(b),h=atom.datepicker.getDate(c),j=atom.datepicker.dateToString(g)+" - "+atom.datepicker.dateToString(h);i.selectedDate=b,i.endDateIndex=c,e.setAttribute("value",atom.datepicker.dateToString(g)),f.setAttribute("value",atom.datepicker.dateToString(h)),d.setAttribute("value",j),atom.addClass(a,"hasContent")}else{var k=atom.datepicker.getDate(b),l=atom.datepicker.dateToString(k);i.selectedDate=b,i.endDateIndex=0,d.setAttribute("value",l),e.setAttribute("value",l),atom.addClass(a,"hasContent")}},setStartAndEnd:function(a){var b=atom.datepicker.getElementByDateTime(a,i.selectedDate),c=atom.datepicker.getElementByDateTime(a,i.endDateIndex);void 0!==b&&atom.addClass(b,"selected"),void 0!==c&&atom.addClass(c,"end"),atom.datepicker.hoverRange(a)},dateToString:function(a,b){if(a){var c=a.getDate(),d=a.getMonth(),e=a.getFullYear();return"iso"===b?atom.datepicker.formatNumber(c)+"-"+atom.datepicker.formatNumber(d+1)+"-"+e:"short"===b?atom.datepicker.formatNumber(c)+"/"+atom.datepicker.formatNumber(d+1)+"/"+e:"long"===b?atom.datepicker.formatNumber(c)+" "+atom.datepicker.months.mL[d]+" "+e:atom.datepicker.formatNumber(c)+" "+atom.datepicker.months.mS[d]+" "+e}},getMinDate:function(a){var b=a.getAttribute("data-min"),c=""!==b?atom.datepicker.newDateInstance(b):new Date("01 Jan 1900");return c.setDate(1),c},getMaxDate:function(a){var b=a.getAttribute("data-max"),c=""!==b?atom.datepicker.newDateInstance(b):new Date("01 Dec 2050");return c.setDate(1),c},getDate:function(a){var b=new Date;return b.setTime(a),b},isValidDate:function(a){return a instanceof Date&&!isNaN(a.valueOf())},dateDisable:function(a,b,c){return(c?this.formatNumber(a)+", "+this.formatNumber(Number(b)+1)+", "+this.formatNumber(Number(c)):this.formatNumber(a)+", "+this.formatNumber(Number(b)+1))in atom.datepicker.disabledDates},isHoliday:function(a,b,c){return(c?this.formatNumber(a)+", "+this.formatNumber(Number(b)+1)+", "+this.formatNumber(Number(c)):this.formatNumber(a)+", "+this.formatNumber(Number(b)+1))in atom.datepicker.holidays},removeClassFromDom:function(a,b){var c=a.getElementsByClassName(b)[0];void 0!==c&&atom.removeClass(c,b)},getHeading:function(){return c.getElementsByClassName("datepicker--heading")[0].getAttribute("data-heading")},newDateInstance:function(a){var b=Date.parse(new Date(a))?new Date(a):new Date;return b.setHours(0,0,0,0),b},getFirstElementByClass:function(a){return document.getElementsByClassName(a)[0]},getElementByDateTime:function(a,b){return a.querySelectorAll('li[data-time="'+Number(b)+'"]')[0]},getFirstDay:function(a){return new Date(a.getFullYear(),a.getMonth(),1).getDay()},getLastDay:function(a){return new Date(a.getFullYear(),a.getMonth()+1,0).getDate()},formatNumber:function(a){return a<10?"0"+a:a}}}(),atom.forms=function(){return{init:function(a){var b,c=document.getElementsByTagName("input").length,d=!1,e=e||{};e.a="www",e.b="fnb",e.c="co.za",e.d=Math.floor(100*Math.random()+1);if(c>0){var f=document.querySelectorAll(a+" .input--text");if(null!==f)for(b=0;b<f.length;b++)f[b].addEventListener("focus",this.input.inputFocus),f[b].addEventListener("focusout",this.input.inputFocusOut),atom.hasValue(f[b])&&atom.addClass(f[b].parentElement,"hasContent"),f[b].hasAttribute("autofocus")&&!1===d&&(atom.addClass(f[b].parentElement,"hasContent"),atom.addClass(f[b].parentElement,"focused"),d=!0);var g=document.querySelectorAll(a+" .input--text.predictive");atom.forms.createListener(f,d,!0,[{type:"focus",method:this.input.inputFocus,childInput:!1},{type:"focusout",method:this.input.inputFocusOut,childInput:!1}]),atom.forms.createListener(g,d,!0,[{type:"keyup",method:this.input.predictiveText,childInput:!1}]);var h=document.querySelectorAll(a+" .input--number");atom.forms.createListener(h,d,!0,[{type:"focus",method:this.input.inputFocus,childInput:!1},{type:"focusout",method:this.input.inputFocusOut,childInput:!1}]);var i=document.querySelectorAll(a+" .rangeValue");atom.forms.createListener(i,d,!0,[{type:"focus",method:this.input.inputFocus,childInput:!1},{type:"focusout",method:this.input.inputFocusOut,childInput:!1}]);var j=document.querySelectorAll(a+" .input--email");atom.forms.createListener(j,d,!0,[{type:"focus",method:this.input.inputFocus,childInput:!1},{type:"focusout",method:this.input.inputFocusOut,childInput:!1}]);var k=document.querySelectorAll(a+" .input--alphaNumeric");atom.forms.createListener(k,d,!0,[{type:"focus",method:this.input.inputFocus,childInput:!1},{type:"focusout",method:this.input.inputFocusOut,childInput:!1}]);var l=document.querySelectorAll(a+" .input--address");atom.forms.createListener(l,d,!0,[{type:"focus",method:this.input.inputFocus,childInput:!1},{type:"focusout",method:this.input.inputFocusOut,childInput:!1},{type:"click",method:atom.maps.init,childInput:!1}]);for(var m=document.querySelectorAll(a+" .address--input-icon"),n=0;n<m.length;n++)m[n].addEventListener("click",atom.maps.init);var o=document.querySelectorAll(a+" .input--datepicker");atom.forms.createListener(o,d,!0,[{type:"focus",method:this.input.inputFocus,childInput:!1},{type:"focusout",method:this.input.inputFocusOut,childInput:!1},{type:"click",method:atom.datepicker.init,childInput:!1}]);var p=document.querySelectorAll(a+" .form--input-switcher");if(atom.forms.createListener(p,d,!1,[{type:"focus",method:this.switcher.switcherFocus,childInput:!1},{type:"focusout",method:this.switcher.switcherFocusOut,childInput:!1},{type:"click",method:this.switcher.switcherClick,childInput:!1}]),null!==k)for(b=0;b<k.length;b++)k[b].addEventListener("focus",this.input.inputFocus),k[b].addEventListener("focusout",this.input.inputFocusOut),atom.hasValue(k[b])&&atom.addClass(k[b].parentElement,"hasContent"),k[b].hasAttribute("autofocus")&&!1===d&&(atom.addClass(k[b].parentElement,"hasContent"),atom.addClass(k[b].parentElement,"focused"),d=!0);var q=document.querySelectorAll(a+" .form--button-showPassword");if(null!==q)for(b=0;b<q.length;b++)q[b].addEventListener("click",this.input.showPassword);var r=document.querySelectorAll(a+" .form--checkbox");if(null!==r)for(b=0;b<r.length;b++)r[b].addEventListener("click",this.checkbox.checkboxFormInputs),r[b].addEventListener("focus",this.checkbox.checkboxFocus),r[b].addEventListener("focusout",this.checkbox.checkboxFocusOut),r[b].hasAttribute("autofocus")&&!1===d&&(atom.addClass(r[b].parentElement,"hasContent"),atom.addClass(r[b].parentElement,"focused"),d=!0);var s=document.querySelectorAll(a+" .form--textarea");if(null!==s)for(b=0;b<s.length;b++)this.textarea.updateTextArea(s[b]),s[b].addEventListener("focus",this.textarea.textareaFocus),s[b].addEventListener("focusout",this.textarea.textareaFocusOut),s[b].addEventListener("keyup",this.textarea.charCount),atom.hasValue(f[b])&&atom.addClass(f[b].parentElement,"hasContent"),s[b].hasAttribute("autofocus")&&!1===d&&(atom.addClass(s[b].parentElement,"hasContent"),atom.addClass(s[b].parentElement,"focused"),d=!0);if(null!==i)for(b=0;b<i.length;b++)i[b].addEventListener("focus",this.input.inputFocus),i[b].addEventListener("focusout",this.input.inputFocusOut),atom.hasValue(i[b])&&atom.addClass(i[b].parentElement,"hasContent"),i[b].hasAttribute("autofocus")&&!1===d&&(atom.addClass(i[b].parentElement,"hasContent"),atom.addClass(i[b].parentElement,"focused"),d=!0);var t=document.querySelectorAll(a+" .form--select");if(null!==t)for(b=0;b<t.length;b++){atom.forms.dropdown.init(t[b]);var u=t[b].getElementsByClassName("input--main")[0],v=t[b].getElementsByClassName("dropdown--select-container")[0],w=v.getElementsByClassName("input--main--search")[0];null!==u&&(u.addEventListener("click",this.dropdown.dropdownClick),u.addEventListener("keydown",this.dropdown.dropdownOpen),u.addEventListener("change",this.dropdown.dropdownOpen),u.addEventListener("focus",this.dropdown.focus),void 0===w&&u.addEventListener("focusout",this.dropdown.focusOut)),void 0!==w&&(w.addEventListener("focusout",this.dropdown.focusOut),w.addEventListener("keyup",this.dropdown.dropdownSearch))}var x=document.querySelectorAll(a+" .dropdown--select-item");if(null!==x)for(b=0;b<x.length;b++)x[b].addEventListener("mousedown",this.dropdown.dropdownOptionClick);var y=document.getElementsByClassName("input--range");if(null!==y)for(b=0;b<y.length;b++){var z=y[b].getAttribute("min"),A=y[b].getAttribute("max"),B=(y[b].getAttribute("step"),$(this).closest("form")),C=$(B).parent(".atom.frame-col").width();$(y[b]).AtomRange({from:z,to:A,format:"%s",width:C,showLabels:!1})}var D=document.getElementById("regPassword");null!==D&&(D.addEventListener("focus",this.password.init),D.addEventListener("keyup",this.password.checkPass));var E=document.getElementById("regPasswordConfirm");null!==E&&E.addEventListener("keyup",this.password.passConfirmMatch)}},createListener:function(a,b,c,d){if(null!==a)for(var e=0;e<a.length;e++){for(var f=0;f<d.length;f++)a[e].childInput?a[e].getElementsByTagName("input")[0].addEventListener(d[f].type,d[f].method):a[e].addEventListener(d[f].type,d[f].method);c&&atom.hasValue(a[e])&&atom.addClass(a[e].parentElement,"hasContent"),a[e].hasAttribute("autofocus")&&!1===b&&(atom.addClass(a[e].parentElement,"hasContent"),atom.addClass(a[e].parentElement,"focused"),b=!0)}},submitProduct:function(){var a=this.getAttribute("data-uid"),b=this.getAttribute("data-nav"),c=(this.getAttribute("data-nav"),this.getAttribute("data-nav"),new XMLHttpRequest);c.onreadystatechange=function(){4===c.readyState&&(404===c.status||200===c.status&&(console.log("XHR Success - Form has been processed"),console.log(c.responseText)))},c.open("POST",b,!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(a)},submitForm:function(a,b,c){var d=$(a);null!==typeof c&&void 0!==typeof c||(c=a),null!==b&&void 0!==b&&(b.preventDefault?b.preventDefault():b.returnValue=!1),d="object"==typeof a?$("#"+a.id).get(0):$("#"+a).get(0),$(".glCurrency").each(function(){var a=$(this).val();$(this).val(a.replace(/,/g,""))});var e=document.getElementById("contactHCWHY");if(null!==e&&void 0!==e){var f=document.getElementById("contactHCWHY").value;f.lastIndexOf("|")>0&&(f=f.substr(f.lastIndexOf("| ")+1));var g="";$(".glATC").each(function(){g=g+this.value+" | "}),e.value=g+f}$.ajax({type:"POST",url:d.action,dataType:"html",data:$(d).serialize(),cache:!1,beforeSend:function(a){},complete:function(a,b){},success:function(a){var b=document.createElement("div"),d=$(b).html(a).find("backend_errors").contents().unwrap(),e=document.createElement("div"),f=$(e).html(a).find("#widgetBody").contents().unwrap();$("#submitBtn").removeClass("disabled"),$("#"+c).removeClass("loading"),d.length>0&&""!==d[0].textContent?atom.forms.serverSideValidation(d[0].textContent):$("#"+c).html(f)}})},serverSideValidation:function(a){var b=!1,c=JSON.parse(a);c.length;for(var d=0;d<c.length;d++){$("#"+c[d].key).length>0?($("#"+c[d].key).closest(".validationWrapper").find(".inlineErrorText").html(c[d].value),$("#"+c[d].key).closest(".validationWrapper").addClass("validationError")):b=!0}if(b);else{var e=$("#"+c[0].key);if(e.length)return $("body").animate({scrollTop:e.offset().top},0),!1}return!1},validationSuccess:function(a,b){atom.forms.submitForm(atom.forms.init.theFormName,b,atom.forms.init.theDestination),atom.forms.init.validationStat=!0,$("#submitBtn").addClass("disabled"),$("#"+atom.forms.init.theDestination).addClass("loading")},validateGLForm:function(a,b){var c=!0;return $(".validationWrapper").removeClass("atom--error"),$("#"+a+" .glRequired").each(function(){if($(this).is(":visible")&&""===$(this).val()|0===$(this).val()){var a=$(this).closest(".validationWrapper");$(a).addClass("atom--error"),c=!1}}),$("#"+a+" .glDropdown").each(function(){if($(this).is(":visible")){var a=$(this).children("input:eq(0)").attr("data-option");console.log(a),"-1"===a&&($(this).addClass("atom--error"),c=!1)}else console.log("stop!!")}),$("#"+a+" .glNumber").each(function(){if($(this).is(":visible")){var a=$(this).val();if(""!==a){var b=$(this).closest(".validationWrapper");atom.forms.glIsNumber(a)||($(b).addClass("atom--error"),c=!1)}}}),$("#"+a+" [data-minValue]").each(function(){if($(this).is(":visible")){var a=$(this).val(),b=$(this).attr("data-minValue");if(parseFloat(a)<parseFloat(b)){var d=$(this).closest(".validationWrapper");$(d).addClass("atom--error"),c=!1}}}),$("#"+a+" [data-maxValue]").each(function(){if($(this).is(":visible")){var a=$(this).val(),b=$(this).attr("data-maxValue");if(parseFloat(a)>parseFloat(b)){var d=$(this).closest(".validationWrapper");$(d).addClass("atom--error"),c=!1}}}),$("#"+a+" .glAlpha").each(function(){if($(this).is(":visible")){var a=$(this).val();if(""!==a&&!atom.forms.glIsAlpha(a)){var b=$(this).closest(".validationWrapper");$(b).addClass("atom--error"),c=!1}}}),$("#"+a+" .glAlphaNumeric").each(function(){if($(this).is(":visible")){var a=$(this).val();if(""!==a&&!atom.forms.glIsAlphaNumeric(a)){var b=$(this).closest(".validationWrapper");$(b).addClass("atom--error"),c=!1}}}),$("#"+a+" .glEmail").each(function(){if($(this).is(":visible")){var a=$(this).val();if(""!==a&&!atom.forms.glIsEmail(a)){var b=$(this).closest(".validationWrapper");$(b).addClass("atom--error"),c=!1}}}),$("#"+a+" .glTelephoneNumber").each(function(){if($(this).is(":visible")){var a=$(this).val();if(""!==a&&!atom.forms.glIsTelephone(a)){var b=$(this).closest(".validationWrapper");$(b).addClass("atom--error"),c=!1}}}),$("#"+a+" .glInternationalTelephoneNumber").each(function(){if($(this).is(":visible")){var a=$(this).val(),b=$(this).attr("data-maxlength"),d=$(this).attr("data-codes");if(""!==a&&!atom.forms.glIsTelephoneLength(a,b,d)){var e=$(this).closest(".validationWrapper");$(e).addClass("atom--error"),c=!1}}}),$("#"+a+" .glDate").each(function(){if($(this).is(":visible")){var a=$(this).val();if(""!==a&&!atom.forms.glIsDate(a)){var b=$(this).closest(".validationWrapper");$(b).addClass("atom--error"),c=!1}}}),$("#"+a+" .glCurrency").each(function(){if($(this).is(":visible")){var a=$(this).val();if(""!==a&&!atom.forms.glIsCurrency(a)){var b=$(this).closest(".validationWrapper");$(b).addClass("atom--error"),c=!1}}}),$("#"+a+" .glRate").each(function(){if($(this).is(":visible")){var a=$(this).val();if(""!==a&&!atom.forms.glIsRate(a)){var b=$(this).closest(".validationWrapper");$(b).addClass("atom--error"),c=!1}}}),$("#"+a+" .glDecimal").each(function(){if($(this).is(":visible")){var a=$(this).val();if(""!==a&&!atom.forms.glIsDecimal(a)){var b=$(this).closest(".validationWrapper");$(b).addClass("atom--error"),c=!1}}}),$("#"+a+" .glRadioButton.glRequired").each(function(){$(this).is(":visible")&&$(this).each(function(){if(0===$(".selected").size()){var a=$(this).closest(".validationWrapper");$(a).addClass("atom--error"),c=!1}})}),$("#"+a+" .glDropDown.glRequired").each(function(){$(this).is(":visible")&&$(this).each(function(){if(0===$(".ui2-dropDownItem.selected").size()){var a=$(this).closest(".validationWrapper");$(a).addClass("atom--error"),c=!1}})}),$("#"+a+" .glCheckBoxRequired").each(function(){if("checked"!==$(this).attr("data-checked")){var a=$(this).closest(".validationWrapper");$(a).addClass("atom--error"),c=!1}}),$("#"+a+" .glSwitchRequired").each(function(){var a=$(this).closest(".validationWrapper");a.hasClass("checked")||($(a).addClass("atom--error"),c=!1)}),c},validateAndSubmit:function(a,b,c,d){b.preventDefault();var e=!0;switch(d){case"calculator":$("#command").val("calculate"),e=atom.forms.validateGLForm(a);break;case"tracker":$("#command").val("track"),e=atom.forms.validateGLForm(a);break;case"clear":$("#command").val("");break;case"evaluate":$("#command").val("EVALUATE"),e=atom.forms.validateGLForm(a);break;default:e=atom.forms.validateGLForm(a,b)}if(e)return!0!==atom.forms.init.validationStat&&(atom.forms.init.theFormName=a,atom.forms.init.theDestination=c,fnb.functions.submitFormToWorkspace.submit("+ formName +","",this),!1)},glIsCurrency:function(a){return new RegExp("^[0-9,]*.[0-9][0-9]$|^[0-9]*$").test(a)},glIsRate:function(a){return new RegExp("^[0-9.]+$").test(a)},glIsDecimal:function(a){return new RegExp("^[0-9,]*.[0-9]*$|^[0-9]*$").test(a)},glIsNumber:function(a){return new RegExp("^[0-9]*$").test(a)},glIsAlphaNumeric:function(a){return new RegExp("[a-zA-Z0-9s]+").test(a)},glIsAlpha:function(a){return new RegExp("^[a-zA-Z\\s]+$").test(a)},glIsEmail:function(a){return new RegExp("[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?").test(a)},glIsTelephone:function(a){return new RegExp("^[0-9]+$").test(a)},glIsTelephoneLength:function(a,b,c){var d,e=c;d=parseInt(b)<1?"0,15":b,void 0===e&&(e="");var f=new RegExp("^[0-9]{"+d+"}$"),g=new RegExp("^(0)("+e+")(\\d*)$");return!(!f.test(a)||!g.test(a))},glIsDate:function(a){return new RegExp("^(([0-9])|([0-2][0-9])|([3][0-1])) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) d{4}$").test(a)}}}(),atom.forms.checkbox=function(){function a(a){return!0===a}function b(a){return!1===a}return{checkboxFormInputs:function(c){c.preventDefault();var d=this,e=d.parentElement,f=$(d).parent().parent(),g=d.parentElement.parentElement.parentElement.parentElement.parentElement;if($(d).closest(".link--list").length>0){var h=g.querySelectorAll("input[data-checked='checked']").length,i=$(d).attr("data-checked"),j=($(d).closest(".link--list").find("input[type='checkbox']"),parseInt($(d).closest(".link--list").attr("data-max")));parseInt($(d).closest(".link--list").attr("data-min"));if(h>=j&&"checked"!==i)return $(f).removeClass("parentFocused"),$(d).parent().removeClass("focused"),!1}if(atom.toggleClass(e,"checked"),e.hasAttribute("data-selectall")){$(this).parent().parent().removeClass("ungroup");for(var k=document.querySelectorAll(".checkboxItems[data-group='"+e.getAttribute("data-selectall")+"']"),l=0;l<k.length;l++){var m=k[l].querySelector("input[type='checkbox']");atom.hasClass(e,"checked")?(atom.addClass(k[l],"checked"),atom.forms.checkbox.setValues(m,k[l])):(atom.removeClass(k[l],"checked"),atom.forms.checkbox.setValues(m,k[l]))}}if(atom.forms.checkbox.setValues(d,d.parentElement),e.hasAttribute("data-group")){var n,o,p=e.getAttribute("data-group"),q=[];$(".checkboxItems[data-group='"+p+"']").each(function(a){$(this).hasClass("checked")?q.push(!0):q.push(!1)}),n=q.every(a),o=q.every(b),o?($("div[data-selectall="+p+"]").removeClass("checked").parent().removeClass("ungroup"),atom.forms.checkbox.setValues($("div[data-selectall='"+p+"']").find("input[type='checkbox']")[0],$("div[data-selectall='"+p+"']")[0])):n?($("div[data-selectall="+p+"]").addClass("checked").parent().removeClass("ungroup"),atom.forms.checkbox.setValues($("div[data-selectall='"+p+"']").find("input[type='checkbox']")[0],$("div[data-selectall='"+p+"']")[0])):o||n||($("div[data-selectall='"+p+"']").removeClass("checked").parent().addClass("ungroup"),atom.forms.checkbox.setValues($("div[data-selectall='"+p+"']").find("input[type='checkbox']")[0],$("div[data-selectall='"+p+"']")[0]))}},checkboxFocus:function(){var a=this.parentElement,b=a.parentElement,c=this.getAttribute("data-type");"text"!==c&&"checkbox"!==c||a.classList.contains("focused")||atom.addClass(a,"focused"),"checkbox"===c&&(b.classList.contains("parentFocused")||atom.addClass(b,"parentFocused"))},checkboxFocusOut:function(){var a=(this.getAttribute("data-checked").length,this.parentElement),b=a.parentElement;"checkbox"===this.getAttribute("data-type")&&(atom.removeClass(a,"focused"),atom.removeClass(b,"parentFocused"))},setValues:function(a,b){var c=a.getAttribute("data-true"),d=a.getAttribute("data-false");atom.hasClass(b,"checked")?($(a).attr("value",c),$(a).attr("data-value",c),a.setAttribute("data-checked","checked"),a.setAttribute("checked","checked")):($(a).attr("value",d),$(a).attr("data-value",d),a.setAttribute("data-checked","")),atom.hasClass(b,"checked")||a.removeAttribute("checked")}}}(),atom.forms.dropdown=function(){var a,b,c,d,e,f,g=-1;return{init:function(g){var h=$(g).find("input[type='hidden']").attr("data-option"),i=$(g).find(".dropdown--select-container").find("[data-option='"+h+"']"),j=i.text();h>-1&&i.length>0&&(a=g,f=a.getElementsByClassName("selectChoice")[0],b=a.getElementsByClassName("dropdown--select-container")[0],c=$(g).find("input--main")[0],d=a.getElementsByClassName("dropdown--select-item"),e=a.getElementsByClassName("placeholder")[0],f=a.getElementsByClassName("selectChoice")[0],atom.forms.dropdown.changeValue(i.attr("data-value"),h,j))},dropdownClick:function(a){function c(a){$(a).parent().find(".dropdown--select-container").find(".input--main--search")[0].focus()}if(a.stopPropagation(),this.focus(),$(this).parent().find(".dropdown--select-container").find(".input--main--search").length>0){$(this).parent().find(".dropdown--select-container").find(".input--main--search")[0].focus(),$(this).parent().find(".dropdown--select-container").find(".input--main--search")[0].value="";$(this).parent().find(".dropdown--select-container").find(".dropdown--select-item").each(function(a){$(this).show()});var e=this;setTimeout(function(){c(e)},300)}if(atom.forms.dropdown.isOpen(b)||32!==a.keyCode&&13!==a.keyCode&&atom.forms.dropdown.dropdownOpen(a,this,"clicked"),void 0!==d[g]){var f=d[g].getAttribute("data-value"),h=d[g].textContent,i=d[g].getAttribute("data-option");atom.forms.dropdown.changeValue(f,i,h)}},dropdownOpen:function(a,c,d){if(a.stopPropagation(),atom.forms.dropdown.isOpen(b)?(13===a.keyCode||32===a.keyCode?g>-1&&atom.forms.dropdown.keyboardSelect(g):40!==a.keyCode&&38!==a.keyCode||(a.preventDefault(),atom.forms.dropdown.doKeyboard(a.keyCode)),atom.addClass(b,"show")):40===a.keyCode?(a.preventDefault(),atom.addClass(b,"show"),atom.forms.dropdown.doKeyboard(a.keyCode)):32===a.keyCode?(a.preventDefault(),atom.addClass(b,"show")):"clicked"===d&&atom.addClass(b,"show"),c){var e=c.parentElement.getElementsByClassName("dropdown--select-container")[0];if(null!==e){var f=c.parentElement.getElementsByClassName("dropdown--select-container")[0].getBoundingClientRect().top,h=c.parentElement.getElementsByClassName("dropdown--select-container")[0].getBoundingClientRect().bottom,i=(c.parentElement.getElementsByClassName("dropdown--select-container")[0].getBoundingClientRect().bottom,c.parentElement.clientHeight/1.8);console.log(i);var j=atom.forms.dropdown.pxTOvw(b.clientHeight-i);h>window.innerHeight?(atom.addClass(e,"positionTop"),e.style.top=-j+"vw"):f<150&&$(window).scrollTop($(window).scrollTop()-150)}}},pxTOvw:function(a){var b=window,c=document,d=c.documentElement,e=c.getElementsByTagName("body")[0],f=b.innerWidth||d.clientWidth||e.clientWidth;b.innerHeight||d.clientHeight||e.clientHeight;return 100*a/f},dropdownSearch:function(a){a.stopPropagation();var b=a.target,c=$(b).parent().find(".dropdown--select-item"),d=$(b).val();c.each(function(a){$(this).find("span").html().toLowerCase().indexOf(d)>-1||$(this).find("p").html().toLowerCase().indexOf(d)>-1?$(this).show():$(this).hide()},d)},focus:function(g){g.stopPropagation(),null!==(a=this.parentElement)&&(b=a.getElementsByClassName("dropdown--select-container")[0],c=this,d=a.getElementsByClassName("dropdown--select-item"),e=a.getElementsByClassName("placeholder")[0],f=a.getElementsByClassName("selectChoice")[0],atom.addClass(this.parentElement,"focused"))},focusOut:function(a){a.stopPropagation();for(var c=0;c<d.length;c++)atom.removeClass(d[c],"focused");atom.removeClass(b,"show"),atom.removeClass(b,"positionTop"),b.style.top="",atom.removeClass(this.parentElement,"focused"),$("form").removeClass("bottomPadding"),g=-1,d=[]},isOpen:function(a){return!!atom.hasClass(a,"show")},dropdownOptionClick:function(a){a.stopPropagation();var b=this.textContent,c=this.getAttribute("data-value"),d=this.getAttribute("data-option");atom.forms.dropdown.changeValue(c,d,b)},doKeyboard:function(a){for(var c=0;c<d.length;c++)atom.removeClass(d[c],"focused");-1===g?40===a&&g++:38===a?g>0&&g--:g<d.length-1&&40===a&&g++;for(var e=[],f=0;f<d.length;f++)e.push($(d[f]).height());for(var h=0,i=0;i<=g;i++)h+=e[i];var j=$(b).height();0===g?$(b).scrollTop(0):h>j&&$(b).scrollTop(h-j),atom.addClass(d[g],"focused")},changeValue:function(c,d,g,h){var i=a.getElementsByClassName("selectChoice")[0],j=a.querySelectorAll("input")[0];f.innerHTML=g,j.value=c,j.setAttribute("data-option",d),atom.addClass(e,"hide"),atom.addClass(i,"show");var k=b.parentNode;atom.hasClass(k,"glRequired")&&atom.removeClass(k,"atom--error")},keyboardSelect:function(a){$(d[a]).find("p").html(),$(d[a]).attr("data-value"),$(d[a]).attr("data-option");$(d[a]).trigger("click")}}}(),atom.forms.input=function(){return{inputFocus:function(){var a=this.parentElement,b=(a.parentElement,this.getAttribute("data-type"));"text"!==b&&"address"!==b&&"currency"!==b&&"number"!==b&&"datepicker"!==b&&"alphaNumeric"!==b&&"email"!==b&&"range"!==b||a.classList.contains("focused")||atom.addClass(a,"focused")},inputFocusOut:function(){var a=this.value.length,b=this.parentElement,c=(b.parentElement,this.getAttribute("data-type"));"switcher-label"===c||"text"!==c&&"address"!==c&&"currency"!==c&&"number"!==c&&"datepicker"!==c&&"alphaNumeric"!==c&&"email"!==c&&"range"!==c||(atom.removeClass(b,"focused"),a<1?atom.removeClass(b,"hasContent"):atom.hasClass(b,"hasContent")||atom.addClass(b,"hasContent"))},showPassword:function(a){var b=this;b.parentElement.getElementsByTagName("input")[0].focus();var c=this.parentElement.getElementsByTagName("input")[0].type;this.parentElement.getElementsByTagName("input")[0].type="password"===c?"text":"password",atom.toggleClass(b,"shown")},predictiveText:function(a){a.preventDefault();var b=a.target,c=(b.parentElement,b.getAttribute("predictive-data")),d=b.getAttribute("id"),e=b.getAttribute("predictive-nav"),f="",g=b.getAttribute("data-eventtype");null!==c&&""!==c&&(f=c),b.value.length>=3?void 0!==e&&""!==e&&null!==e?$.ajax({type:"GET",url:e,dataType:"html",cache:!1,beforeSend:function(a){},complete:function(a,b){},success:function(c,e,h){f=c.trim().split("|"),atom.forms.input.buildPredictiveTextOptions(a,b,d,f,g)}}):(f.indexOf("|")>=0&&(f=f.trim().split("|")),atom.forms.input.buildPredictiveTextOptions(a,b,d,f,g)):$(b).closest(".predictable").removeClass("predictable")},buildPredictiveTextOptions:function(a,b,c,d,e){var f=b,g=b.parentElement,h=g.getElementsByClassName("predictions"),i=$(h).children(),j=-1;j=$(h).children(".focused").index();var k=$(a.target).parent();k.hasClass("predictable")||($(b).blur(function(a){$(a.target).parent().removeClass("predictable"),$(b).unbind("blur")}),k.addClass("predictable")),32===a.keyCode&&k.hasClass("predictable")&&$(h).children().hasClass("focused")&&($(h).find(".focused").trigger("click"),$(f).closest(".form--input-container").removeClass("predictable")),$("#predictive_"+c).remove();var l=b.value;if(""!==l){var m=$.grep(d,function(a){return a.toString().toUpperCase().indexOf(l.toUpperCase())>=0});if(m.length<1)return!1;var n=document.createElement("div");n.id="predictive_"+c;for(var o=0;o<m.length;o++){var p=document.createElement("div");p.innerHTML="<p class='atom text--paragraph'>"+m[o].toString().replace(new RegExp(l,"i"),"<b>"+l+"</b>")+"</p><span class='input--item-line'></span>",p.setAttribute("data-value",m[o]),p.setAttribute("class","input--select-item"),$(p).appendTo(n)}$(b).after(n);var q=b.getAttribute("data-formname"),r=b.getAttribute("data-nav"),s=b.getAttribute("data-targetdiv");$(n).addClass("predictions"),$(".predictions > div").click(function(a){if(a.stopImmediatePropagation(),b.value=a.currentTarget.getAttribute("data-value"),""!==e)switch(parseInt(e)){case 0:fnb.functions.submitFormToWorkspace.submit(q,"",this,{alternateUrl:r},"","");break;case 3:fnb.functions.submitFormToEziPanel.submit(q,"","","",this,{alternateUrl:r});break;case 11:fnb.functions.submitFormToDiv.submit(q,s,"",this,{alternateUrl:r},"")}$(b).closest(".predictable").removeClass("predictable")});var t=a.keyCode||a.which;if(38===t){if($(h).children().removeClass("focused"),j<0?$(h).children().eq(i.length-1).addClass("focused"):$(h).children().eq(j-1).addClass("focused"),console.log(i.length),console.log(j),$(h).find(".focused").length&&j<i.length+1){a.preventDefault(),console.log(j);j===i.length-1?0:-2,$(h).stop().animate({scrollTop:$(h).find(".focused").outerHeight(!0)*$(h).find(".focused").index()},0)}}else 40===t&&($(h).children().eq(j).removeClass("focused"),$(h).children().eq(j+1).addClass("focused"),(j<=-1||j>=i.length-1)&&$(h).children().eq(0).addClass("focused"),$(h).find(".focused").length&&j>=2&&j<i.length-1&&(a.preventDefault(),$(h).stop().animate({scrollTop:$(h).find(".focused").outerHeight(!0)*j},0)))}},activateUpload:function(a,b){a.preventDefault();var c=b.parentElement;$(c).find('input[type="file"]').trigger("click")},populateInput:function(a,b){a.preventDefault();var c=b.parentElement.parentElement;$(c).addClass("hasContent"),$(c).find('input[type="text"]').val(b.files.item(0).name),$(c).parentElement.addClass("focused")}}}(),atom.forms.password=function(){var a=/[a-z]/g,b=/[A-Z]/g,c=/[0-9]/g,d=/[!@#\$%\^&\*]/g,e={rules:{lower:!1,upper:!1,number:!1,special:!1},length:{maxLength:0,minLength:0,meetsLength:!1}},f="",g="";return{init:function(){e.length.maxLength=document.getElementById("passMax").value,e.length.minLength=document.getElementById("passMin").value},checkPass:function(b){f=this.value,atom.forms.password.ruleChecks(f,a);for(var c in e.rules){var d=document.getElementById(c+"Validation");!0===e.rules[c]?atom.hasClass(d,"list-style-tick")||(atom.addClass(d,"list-style-tick"),atom.addClass(d,"font--color-primary")):atom.hasClass(d,"list-style-tick")&&(atom.removeClass(d,"list-style-tick"),atom.removeClass(d,"font--color-primary"))}atom.forms.password.submit()},ruleChecks:function(f){e.rules.lower=null!==f.match(a),e.rules.upper=null!==f.match(b),e.rules.number=null!==f.match(c),e.rules.special=null!==f.match(d)},submit:function(){f.length>=e.length.minLength&&f.length<=e.length.maxLength||console.log("Password should have between "+e.length.minLength+" and "+e.length.maxLength+" characters"),e.rules.lower||console.log("Password should contain a lower case character"),e.rules.upper||console.log("Password should contain an upper case character"),e.rules.number||console.log("Password should contain a number"),e.rules.special||console.log("Password should contain a special character")},passConfirmMatch:function(){if(f.length>0)return(g=this.value)===f}}}(),atom.forms.range=function(){var a,b=function(){return this.init.apply(this,arguments)};b.prototype={defaults:{onstatechange:function(){},ondragend:function(){},onbarclicked:function(){},isRange:!1,showLabels:!0,showScale:!0,step:1,format:"%s",theme:"atom-theme",width:"100%",disable:!1,snap:!1},template:'<div class="slider-container"><div class="back-bar"><div class="selected-bar"></div><div class="pointer low"></div><div class="pointer-label low">123456</div><div class="pointer high"></div><div class="pointer-label high">456789</div><div class="clickable-dummy"></div></div><div class="scale"></div></div>',init:function(a,b){this.options=$.extend({},this.defaults,b),this.inputNode=$(a),this.options.value=this.inputNode.val()||(this.options.isRange?this.options.from+","+this.options.from:""+this.options.from),this.domNode=$(this.template),this.domNode.addClass(this.options.theme),this.inputNode.after(this.domNode),this.domNode.on("change",this.onChange),this.pointers=$(".pointer",this.domNode),this.lowPointer=this.pointers.first(),this.highPointer=this.pointers.last(),this.labels=$(".pointer-label",this.domNode),this.lowLabel=this.labels.first(),this.highLabel=this.labels.last(),this.scale=$(".scale",this.domNode),this.bar=$(".selected-bar",this.domNode),this.clickableBar=this.domNode.find(".clickable-dummy"),this.interval=this.options.to-this.options.from,this.render()},render:function(){this.inputNode.hide(),this.isSingle()&&(this.lowPointer.hide(),this.lowLabel.hide()),this.options.showLabels||this.labels.hide(),this.attachEvents(),this.options.showScale&&this.renderScale(),this.setValue(this.options.value)},isSingle:function(){return"number"==typeof this.options.value||-1===this.options.value.indexOf(",")&&!this.options.isRange},attachEvents:function(){this.clickableBar.click($.proxy(this.barClicked,this)),this.pointers.on("mousedown touchstart",$.proxy(this.onDragStart,this)),this.pointers.bind("dragstart",function(a){a.preventDefault()})},onDragStart:function(a){if(!(this.options.disable||"mousedown"===a.type&&1!==a.which)){a.stopPropagation(),a.preventDefault();var b=$(a.target);this.pointers.removeClass("last-active"),b.addClass("focused last-active"),this[(b.hasClass("low")?"low":"high")+"Label"].addClass("focused"),$(document).on("mousemove.slider touchmove.slider",$.proxy(this.onDrag,this,b)),$(document).on("mouseup.slider touchend.slider touchcancel.slider",$.proxy(this.onDragEnd,this))}},onDrag:function(a,b){b.stopPropagation(),b.preventDefault(),b.originalEvent.touches&&b.originalEvent.touches.length?b=b.originalEvent.touches[0]:b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length&&(b=b.originalEvent.changedTouches[0]);var c=b.clientX-this.domNode.offset().left;this.domNode.trigger("change",[this,a,c])},onDragEnd:function(a){this.pointers.removeClass("focused").trigger("rangeslideend"),this.labels.removeClass("focused"),$(document).off(".slider"),this.options.ondragend.call(this,this.options.value)},barClicked:function(a){if(!this.options.disable){var b=a.pageX-this.clickableBar.offset().left;if(this.isSingle())this.setPosition(this.pointers.last(),b,!0,!0);else{var c,d=Math.abs(parseFloat(this.pointers.first().css("left"),10)),e=this.pointers.first().width()/2,f=Math.abs(parseFloat(this.pointers.last().css("left"),10)),g=this.pointers.first().width()/2,h=Math.abs(d-b+e),i=Math.abs(f-b+g);c=h===i?b<d?this.pointers.first():this.pointers.last():h<i?this.pointers.first():this.pointers.last(),this.setPosition(c,b,!0,!0)}this.options.onbarclicked.call(this,this.options.value)}},onChange:function(a,b,c,d){var e,f;e=0,f=b.domNode.width(),b.isSingle()||(e=c.hasClass("high")?parseFloat(b.lowPointer.css("left"))+b.lowPointer.width()/2:0,f=c.hasClass("low")?parseFloat(b.highPointer.css("left"))+b.highPointer.width()/2:b.domNode.width());var g=Math.min(Math.max(d,e),f);b.setPosition(c,g,!0)},setPosition:function(a,b,c,d){var e,f=parseFloat(this.lowPointer.css("left")),g=parseFloat(this.highPointer.css("left"))||0,h=this.highPointer.width()/2;if(c||(b=this.prcToPx(b)),this.options.snap){var i=this.correctPositionForSnap(b);if(-1===i)return;b=i}a[0]===this.highPointer[0]?g=Math.round(b-h):f=Math.round(b-h),a[d?"animate":"css"]({left:Math.round(b-h)}),e=this.isSingle()?0:f+h;var j=Math.round(g+h-e);this.bar[d?"animate":"css"]({width:Math.abs(j),left:j>0?e:e+j}),this.showPointerValue(a,b,d),this.isReadonly()},correctPositionForSnap:function(a){var b=this.positionToValue(a)-this.options.from,c=this.options.width/(this.interval/this.options.step),d=b/this.options.step*c;return a<=d+c/2&&a>=d-c/2?d:-1},setValue:function(a){var b=a.toString().split(",");b[0]=Math.min(Math.max(b[0],this.options.from),this.options.to)+"",b.length>1&&(b[1]=Math.min(Math.max(b[1],this.options.from),this.options.to)+""),this.options.value=a;var c=this.valuesToPrc(2===b.length?b:[0,b[0]]);this.isSingle()?this.setPosition(this.highPointer,c[1]):(this.setPosition(this.lowPointer,c[0]),this.setPosition(this.highPointer,c[1]))},keyupSetValue:function(b){function c(a,b){var c=a.toString().split(",");c[0]=Math.min(Math.max(c[0],b.options.from),b.options.to)+"",c.length>1&&(c[1]=Math.min(Math.max(c[1],b.options.from),b.options.to)+""),b.options.value=a;var d=b.valuesToPrc(2===c.length?c:[0,c[0]]);b.isSingle()?b.setPosition(b.highPointer,d[1]):(b.setPosition(b.lowPointer,d[0]),b.setPosition(b.highPointer,d[1]))}var d=this;clearTimeout(a),b&&(a=setTimeout(function(){c(b,d)},2e3))},renderScale:function(){for(var a=this.options.scale||[this.options.from,this.options.to],b=Math.round(100/(a.length-1)*10)/10,c="",d=0;d<a.length;d++)c+='<span style="left: '+d*b+'%">'+("|"!==a[d]?"<ins>"+a[d]+"</ins>":"")+"</span>";this.scale.html(c),$("ins",this.scale).each(function(){$(this).css({marginLeft:-$(this).outerWidth()/2})})},getBarWidth:function(){var a=this.options.value.split(",");return a.length>1?parseFloat(a[1])-parseFloat(a[0]):parseFloat(a[0])},showPointerValue:function(a,b,c){var d,e=$(".pointer-label",this.domNode)[a.hasClass("low")?"first":"last"](),f=this.positionToValue(b);if($.isFunction(this.options.format)){var g=this.isSingle()?void 0:a.hasClass("low")?"low":"high";d=this.options.format(f,g)}else d=this.options.format.replace("%s",f);var h=e.html(d).width(),i=b-h/2;i=Math.min(Math.max(i,0),this.options.width-h),e[c?"animate":"css"]({left:i}),this.setInputValue(a,f);var j=$(this.inputNode).parent().find(".rangeValue");if(null!==j)for(var k=0;k<j.length;k++)j[k].value=f},valuesToPrc:function(a){return[100*(parseFloat(a[0])-parseFloat(this.options.from))/this.interval,100*(parseFloat(a[1])-parseFloat(this.options.from))/this.interval]},prcToPx:function(a){return this.domNode.width()*a/100},isDecimal:function(){return-1!==(this.options.value+this.options.from+this.options.to).indexOf(".")},positionToValue:function(a){var b=a/this.domNode.width()*this.interval;if(b=parseFloat(b,10)+parseFloat(this.options.from,10),this.isDecimal()){var c=Math.round(Math.round(b/this.options.step)*this.options.step*100)/100;if(0!==c)for(c=""+c,-1===c.indexOf(".")&&(c+=".");c.length-c.indexOf(".")<3;)c+="0";else c="0.00";return c}return Math.round(b/this.options.step)*this.options.step},setInputValue:function(a,b){if(this.isSingle())this.options.value=b.toString();else{var c=this.options.value.split(",");a.hasClass("low")?this.options.value=b+","+c[1]:this.options.value=c[0]+","+b}this.inputNode.val()!==this.options.value&&(this.inputNode.val(this.options.value).trigger("change"),this.options.onstatechange.call(this,this.options.value))},getValue:function(){return this.options.value},getOptions:function(){return this.options},getRange:function(){return this.options.from+","+this.options.to},isReadonly:function(){this.domNode.toggleClass("slider-readonly",this.options.disable)},disable:function(){this.options.disable=!0,this.isReadonly()},enable:function(){this.options.disable=!1,this.isReadonly()},toggleDisable:function(){this.options.disable=!this.options.disable,this.isReadonly()},updateRange:function(a,b){var c=a.toString().split(",");this.interval=parseInt(c[1])-parseInt(c[0]),b?this.setValue(b):this.setValue(this.getValue())}};var c="AtomRange";$.fn[c]=function(a){var d,e=arguments;return this.each(function(){var f=$(this),g=$.data(this,"plugin_"+c),h="object"==typeof a&&a;g||(f.data("plugin_"+c,g=new b(this,h)),$(window).resize(function(){g.setValue(g.getValue())})),"string"==typeof a&&(d=g[a].apply(g,Array.prototype.slice.call(e,1)))}),d||this}}(),atom.forms.switcher=function(){return{switcherClick:function(a){a.stopPropagation();var b=this.getElementsByTagName("input")[0];b.checked=!0;var c=this,d=b.getAttribute("data-value"),e=b.getAttribute("data-false");"switcher"===b.getAttribute("data-type")&&(atom.hasClass(b.parentElement,"checked")?(b.value=e,atom.removeClass(this,"checked")):(b.value=d,atom.addClass(c,"checked")))},switcherFocus:function(a){var b=this.parentElement;atom.addClass(b,"focused")},switcherFocusOut:function(a){var b=this.parentElement;atom.removeClass(b,"focused")}}}(),atom.forms.textarea=function(){var a;return{charCount:function(a){atom.forms.textarea.updateTextArea(a.currentTarget)},updateTextArea:function(b){a=b.parentElement;var c=a.getElementsByClassName("text--count"),d=b.getAttribute("data-maxlength"),e=b.getAttribute("data-charleft");b.value.length>d&&(b.value=b.value.slice(0,d)),0!==e&&(e=d-b.value.length,b.setAttribute("data-charleft",e),c[0].innerHTML=e+" characters left")},textareaFocus:function(b){a=b.currentTarget.parentElement,a.classList.contains("focused")||atom.addClass(a,"focused")},textareaFocusOut:function(b){atom.removeClass(a,"focused")}}}(),atom.maps=function(){var a,b,c,d,e,f,g,h={lat:-28.454449,lng:25.905337},i=[];return{init:function(a){this.classList.contains("address--input-icon")?atom.maps.mapsInit(a,this.parentElement.parentElement.getElementsByClassName("input--address")[0]):""===this.value&&atom.maps.mapsInit(a,this)},mapsInit:function(g,i){console.log("------------"),console.log("Map init"),$(i).blur(),f=$(i);var j=$(f).parent().find(".map--controls").attr("data-nav"),k=$(f).parent().find(".map--controls").attr("data-target");$("<input id='map--controls' class='map--controls hide' type='text' value='' placeholder='Location or GPS Co-ordinates' data-nav='"+j+"' data-target='"+k+"'>").insertBefore(f),d=i.parentElement.getElementsByClassName("map--controls")[0],""!==i.parentElement.getElementsByClassName("mapLat")[0].value&&i.parentElement.getElementsByClassName("mapLng")[0].value&&(h={lat:parseFloat(i.parentElement.getElementsByClassName("mapLat")[0].value),lng:parseFloat(i.parentElement.getElementsByClassName("mapLng")[0].value)});var l=d;l.setAttribute("id","map--controls");i.value;atom.prepareOverlay();var m;a=document.getElementById("overlayContent"),b=document.getElementById("loaderGif"),atom.removeClass(b,"show"),atom.openOverlay(g,"maps"),atom.maps.loadMap(h,l,!1),c.setZoom(6),""!==$(i).parent().find(".mapLat").val()&&$(i).parent().find(".mapLng").val()?(e={lat:parseFloat($(i).parent().find(".mapLat").val()),lng:parseFloat($(i).parent().find(".mapLng").val())},atom.removeClass(b,"show"),atom.openOverlay(g,"maps"),atom.maps.loadMap(e,l,!0)):navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){e={lat:a.coords.latitude,lng:a.coords.longitude},atom.removeClass(b,"show"),atom.openOverlay(g,"maps"),atom.maps.loadMap(e,l,!1)},function(){m=new google.maps.InfoWindow,atom.maps.handleLocationError(!0,m,c.getCenter())}):(m=new google.maps.InfoWindow,atom.maps.handleLocationError(!1,m,c.getCenter()))},handleLocationError:function(a,b,c){b.setPosition(c),b.setContent(a?"Error: The Geolocation service failed.":"Error: Your browser/proxy doesn't support/allow geolocation.")},loadMap:function(b,d,e){console.log("------------"),console.log("Map load"),c=new google.maps.Map(a,{zoom:14,center:b,disableDefaultUI:!0}),g={url:"/atom/_assets/images/generic/skins/00/maps/pin.png",size:new window.google.maps.Size(48,62),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(24,62)};var f=new window.google.maps.Marker({position:b,map:c,icon:g});!0===e?i.push(f):f.setMap(null),console.log("------------"),console.log("Search Input");var h={componentRestrictions:{country:"za"}},j=document.getElementById("type-selector");c.controls[google.maps.ControlPosition.TOP_LEFT].push(d),c.controls[google.maps.ControlPosition.TOP_LEFT].push(j);var k=new google.maps.places.Autocomplete(d,h);k.bindTo("bounds",c),atom.removeClass(d,"hide"),atom.maps.search(f,k,g)},search:function(a,b,d){function e(a,b,c){var d=a;b.geocode({location:d},function(a,b){"OK"===b&&a[0]&&(c.setZoom(15),c.panTo(d))})}google.maps.event.addListener(b,"place_changed",function(){i.forEach(function(a){a.setMap(null)});var a=b.getPlace();if(a.geometry){a.geometry.viewport?c.fitBounds(a.geometry.viewport):(c.panTo(a.geometry.location),c.setZoom(4));var f=new google.maps.Geocoder;e(a.geometry.location,f,c);var g=new window.google.maps.Marker({map:c,icon:d,title:a.name,position:a.geometry.location});i.push(g),atom.maps.loadInfoWindow(c,g,a)}})},buildAddressInputs:{},loadInfoWindow:function(a,b,c){console.log("------------"),console.log("Load Info Window");var e="<div class='atom atom--map-address'><p class='atom text--paragraph align--center'>"+c.formatted_address+"</p><div class='atom btn--wrapper  btn--width-2 btn--color-highlight align--center'><button type='submit' id='click_btn' name='' data-nav='' id='map-confirm' value='' class='atom btn btn--normal confirm-buttom  noselect' data-trackclick='Button - Submit'>Confirm</button></div></div>",f=new window.google.maps.InfoWindow({content:e});c.formatted_address;window.google.maps.event.addListener(f,"domready",function(){var a=document.getElementsByClassName("confirm-buttom");$(a).click(function(){var a=document.getElementById("map--controls"),b=a.getAttribute("data-nav"),e=fnb.hyperion.$(a.getAttribute("data-target")),f="rawMapData="+encodeURIComponent(JSON.stringify(c));fnb.hyperion.controller.raiseEvent("asyncLoadContent",{url:b,target:e,params:f}),atom.closeOverlay(),d=null,$("#map--controls").remove(),$(".pac-container").remove()})}),f.open(a,b)},geocodeLatLng:function(a,b){(new window.google.maps.Geocoder).geocode({location:a},function(d,e){if("OK"===e)if(d[0]){var f=new google.maps.Marker({position:a,map:c,icon:g}),h="<div class='atom atom--map-address'><p class='atom text--paragraph align--center'>"+d[0].formatted_address+"</p><div class='atom btn--wrapper  btn--width-2 btn--color-highlight align--center'></div></div>";b.setContent(h),b.open(c,f)}else window.alert("No results found");else window.alert("Geocoder failed due to: "+e)})}}}(),atom.menu=function(){var a,b,c,d,e;return window.innerWidth<501&&!0,{init:function(){a=document.getElementById("menu--main"),null!==(b=document.getElementById("nav--main"))&&(c=b.getElementsByClassName("menu--sub-link"),d=document.getElementById("nav--sub"))},toggleMenu:function(c){atom.toggleClass(a,"menu--state-open"),atom.hasClass(b,"menu--state-open")?atom.closeOverlay():atom.openOverlay(c,"menu"),void 0!==e&&atom.removeClass(d,"subMenu--open"),atom.toggleClass(b,"menu--state-open")},switchSub:function(a){if(a.preventDefault(),atom.hasClass(d,"subMenu--open")||atom.addClass(d,"subMenu--open"),null!==c)for(var b=0;b<c.length;b++)atom.removeClass(c[b],"subMenu--sub-open");atom.addClass(this,"subMenu--sub-open"),void 0!==e&&atom.removeClass(e,"subMenu--sub-open"),e=document.getElementById(this.getAttribute("data-section")),atom.addClass(e,"subMenu--sub-open")},openSubContainer:function(){}}}(),atom.setEvents=function(){var a;return{init:function(){for(var a=document.querySelectorAll("[set-event]"),b=0;b<a.length;b++)this.bindEvent(a[b]),a[b].parentNode.removeChild(a[b])},bindEvent:function(a){var b=document.getElementById(a.getAttribute("data-element")),c=(document.getElementById(a.getAttribute("data-target")),a.getAttribute("data-event")),d=a.getAttribute("data-action"),e=a.getAttribute("data-show"),f=a.getAttribute("data-hide"),g=a.getAttribute("data-nav");if(null!==b){var h,i,j=a.getAttribute("data-eventType"),k=$(b).closest(".form--input").attr("data-type");if(""!==j){if("switcher-label"===k){var l="form--input-switcher",m=$(b).parent().hasClass(l);i=$(b).closest(".form--input").find(".form--button-switcher"),!0===m&&this.bindSubmitFormElement(i[0],k,c,a)}else if("checkbox-label"===k){var n="checkboxItems",o=$(b).parent().hasClass(n);!0===o&&this.bindSubmitFormElement(b,k,c,a)}else if("dropdown-label"===k){var p=$(b).closest(".form--input").find(".dropdown--select-item"),q=$(b).closest(".form--select");console.log(q);for(var r=0;r<p.length;r++)this.bindSubmitFormElement(p[r],k,c,a)}else"text-label"===k||"number-label"===k||"tel-label"===k||"email-label"===k?($(b).closest(".form--input"),this.bindSubmitFormElement(b,k,c,a)):"search-label"===k?this.bindSubmitFormElement(b,k,c,a):this.bindSubmitFormElement(b,"",c,a);return!1}if("ajax"!==d||null===g){var s=e.replace(/'/g,'"');JSON.parse(s);var t="",u="",v=f.replace(/'/g,'"');if(JSON.parse(v),""===s?s='""':t=JSON.parse(s),""===v?v='""':u=JSON.parse(v),"dropdown-label"===k){h=$(b.parentElement).find(".dropdown--select-item");for(var w=0;w<h.length;w++)this.bindToElement(h[w],t,u,c,k)}"switcher-label"===k&&(document.getElementsByClassName("form--input-switcher"),!0===$(b).parent().hasClass("form--input-switcher")&&this.bindToElement(b.parentElement,t,u,c,k)),null===k&&"checkbox-label"===(k=b.parentElement.parentElement.getAttribute("data-type"))&&!0===$(b).parent().hasClass("checkboxItems")&&this.bindToElement(b.parentElement,t,u,c,k)}else if(!0==(null!==b.getAttribute("data-value"))&&this.bindAjaxElement(b,b,a.getAttribute("data-target"),g,c),"dropdown-label"===k){h=$(b.parentElement).find(".dropdown--select-item");for(var x=0;x<h.length;x++)this.bindAjaxElement(b,h[x],a.getAttribute("data-target"),g,c)}else"switcher-label"===k&&(i=$(b.parentElement).find(".form--button-switcher"),this.bindAjaxElement(b.parentElement,i[0],a.getAttribute("data-target"),g,c))}},getElementValue:function(a,b){var c,d=a.parentElement.getAttribute("data-type"),e="";if(null!==a.getAttribute("data-value"))if(atom.hasClass(a,"dropdown--select-item"))e=a.getAttribute("data-value");else{c=$(a).parent().find("input")[0];var f=c.getAttribute("data-checked");e="checked"===f?c.getAttribute("data-value"):c.getAttribute("data-false")}else if("switcher-label"===d){c=$(a).parent().find("input")[0];var g=!atom.hasClass(c.parentElement,"checked");e=g?c.getAttribute("data-value"):c.getAttribute("data-false")}else e=$(a).val();return e},bindSubmitFormElement:function(b,c,d,e){var f=e.getAttribute("data-eventType");b.addEventListener(d,function(g){"mousedown"===d&&"dropdown-label"===c&&atom.setEvents.submitFunction(f,e,$(b).attr("data-value")),"keypress"===d&&"dropdown-label"===c&&atom.setEvents.submitFunction(f,e,$(b).attr("data-value")),"click"===d&&"checkbox-label"===c&&atom.setEvents.submitFunction(f,e,$(b).attr("value")),"click"===d&&"switcher-label"===c&&setTimeout(function(){atom.setEvents.submitFunction(f,e,$(b).closest(".form--input-switcher").find(".input--switcher").attr("value"))},100),"keyup"!==d||"text-label"!==c&&"number-label"!==c&&"tel-label"!==c&&"email-label"!==c&&"search-label"!==c||(clearTimeout(a),$(b).val()&&(a=setTimeout(function(){atom.setEvents.submitFunction(f,e,$(b).val())},3e3))),"click"===d&&""===c&&atom.setEvents.submitFunction(f,e)})},submitFunction:function(a,b,c){var d=b.getAttribute("data-optionalFunction"),e=b.getAttribute("data-buttonTarget"),f=b.getAttribute("data-extraOptions"),g=b.getAttribute("data-preventDefaults"),h=b.getAttribute("data-fromEzi"),i=b.getAttribute("data-targetDiv"),j=b.getAttribute("data-paramName"),k=b.getAttribute("data-paramValue"),l=b.getAttribute("data-formName"),m=b.getAttribute("data-nav");switch(parseInt(a)){case 0:""!==m?fnb.functions.submitFormToWorkspace.submit(l,d,e,{alternateUrl:m},g,h):fnb.functions.submitFormToWorkspace.submit(l,d,e,f,g,h);break;case 1:""!==m?fnb.functions.submitFormToDiv.submit(l,"#"+i,d,e,{alternateUrl:m},g):fnb.functions.submitFormToDiv.submit(l,"#"+i,d,e,f,g);break;case 2:""!==m?fnb.functions.submitFormToEziPanel.submit(l,j,k,d,e,{alternateUrl:m}):fnb.functions.submitFormToEziPanel.submit(l,j,k,d,e,f);break;case 3:var n=m+c;console.log(n),fnb.controls.controller.eventsObject.raiseEvent("loadUrlToTarget",{url:n,target:"#"+i})}},bindAjaxElement:function(a,b,c,d,e){$(b).addClass("ajaxBnd"),b.addEventListener(e,function(){var f=atom.setEvents.getElementValue(b,e),g=a.id+"="+f,h=fnb.hyperion.$("#"+c);fnb.hyperion.controller.raiseEvent("asyncLoadContent",{url:d,target:h,postLoadingCallback:"",params:g})})},bindToElement:function(a,b,c,d,e){a.addEventListener(d,function(f){var g=this;"mousedown"===d&&"dropdown-label"===e&&(g=a.getAttribute("data-value")),"click"===d&&"checkbox-label"===e&&(g=$(this).find(".form--checkbox").val()),"click"===d&&"switcher-label"===e&&(g=$(this).find(".input--switcher").val()),Object.keys(b).forEach(function(a){var c=b[a],d=a,e=c.split("|");if(g.trim().toLowerCase()===d.trim().toLowerCase())for(var f=0;f<e.length;f++)if(e[f]!==d){var h=e[f].trim(),i=document.getElementById(h);$(i).show()}}),Object.keys(c).forEach(function(a){var b=c[a],d=a,e=b.split("|");if(g.trim().toLowerCase()===d.trim().toLowerCase())for(var f=0;f<e.length;f++)if(e[f]!==d){var h=e[f].trim(),i=document.getElementById(h);$(i).hide()}})})}}}(),atom.table=function(){var a,b=2e3;return{changeTableSize:function(a,b,c){b+="&changePageSize="+c,fnb.controls.controller.eventsObject.raiseEvent("loadUrlToTarget",{url:b,target:"#"+a})},sortTable:function(a,b,c){b+="&sortingMethodName="+c,fnb.controls.controller.eventsObject.raiseEvent("loadUrlToTarget",{url:b,target:"#"+a})},pageTable:function(a,b,c){b+="&goToPage="+c,fnb.controls.controller.eventsObject.raiseEvent("loadUrlToTarget",{url:b,target:"#"+a})},userSelectPageTable:function(c,d,e,f){clearTimeout(a),f&&(a=setTimeout(function(){e+="&goToPage="+f,fnb.functions.submitFormToDiv.submit(c,"#"+d,"",this,{alternateUrl:e},"")},b))},searchTable:function(c,d,e){var f=$(e).val();clearTimeout(a),a=setTimeout(function(){d+="&searchTableByValue="+(f&&""!==f?f:"noSearchValueEntered"),fnb.controls.controller.eventsObject.raiseEvent("loadUrlToTarget",{url:d,target:"#"+c})},b)}}}(),atom.tooltip=function(){return{init:function(){var a=$("body").find('.chevron--icon[data-tooltip="true"]');a&&(a.on("click",function(a){a.stopPropagation();var b=a.currentTarget,c=b.nextElementSibling,d=b.getAttribute("data-action"),e=c.getElementsByClassName("tooltip--content")[0],f=document.querySelector(".atom.atomToolTip.show");f&&atom.tooltip.hideToolTip(f),$(c).hasClass("hide")&&"open"===d?atom.tooltip.showTooltip(c):"close"===d&&atom.tooltip.hideToolTip(c),setTimeout(function(){e.style.visibility="visible"},180)}),$("div#atom").on("click",":not(.tooltip--content)",function(a){var b=document.querySelector("div.atomToolTip.show");b&&atom.tooltip.hideToolTip(b)}),$(".tooltip--content").on("click",function(a){a.stopPropagation()}))},showTooltip:function(a){var b=$(a.parentElement).find('.chevron--icon[data-tooltip="true"]');$(a).removeClass("hide"),$(a).addClass("show"),atom.tooltip.position(a),b.attr("data-action","close")},hideToolTip:function(a){var b=$(a.parentElement).find('.chevron--icon[data-tooltip="true"]');a.getElementsByClassName("tooltip--content")[0].style.visibility="",$(a).removeClass("show"),$(a).addClass("hide"),$(b).attr("data-action","open")},position:function(a){var b=a.getBoundingClientRect().top-200,c=a.getBoundingClientRect().left,d=a.getBoundingClientRect().right+20,e=a.getBoundingClientRect().bottom+100,f=c<0,g=e>window.innerHeight,h=d>window.innerWidth,i=b<0;f&&g||f&&"topLeft"===a.getAttribute("data-direction")||g&&"bottomRight"===a.getAttribute("data-direction")&&!h?a.setAttribute("data-direction","topRight"):h&&g||h&&"topRight"===a.getAttribute("data-direction")||g&&"bottomLeft"===a.getAttribute("data-direction")?a.setAttribute("data-direction","topLeft"):f&&i||i&&"topRight"===a.getAttribute("data-direction")||f&&"bottomLeft"===a.getAttribute("data-direction")?a.setAttribute("data-direction","bottomRight"):(h&&i||i&&"topLeft"===a.getAttribute("data-direction")||h&&"bottomRight"===a.getAttribute("data-direction"))&&a.setAttribute("data-direction","bottomLeft")}}}(),$(document).ready(function(){atom.init(),atom.forms.init("body"),atom.datepicker.init(),atom.tooltip.init(),atom.setEvents.init()});